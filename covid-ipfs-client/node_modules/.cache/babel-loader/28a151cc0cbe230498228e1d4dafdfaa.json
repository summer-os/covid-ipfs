{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport classNames from 'classnames';\nimport React, { useContext, useEffect, useState } from 'react';\n/**\n * 返回当前显示设备的物理像素分辨率与CSS像素分辨率之比\n *\n * @param context\n * @see api 有些废弃了，其实类型 CanvasRenderingContext2D\n */\n\nvar getPixelRatio = function getPixelRatio(context) {\n  if (!context) {\n    return 1;\n  }\n\n  var backingStore = context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n  return (window.devicePixelRatio || 1) / backingStore;\n};\n\nvar WaterMark = function WaterMark(props) {\n  var children = props.children,\n      style = props.style,\n      className = props.className,\n      markStyle = props.markStyle,\n      markClassName = props.markClassName,\n      _props$zIndex = props.zIndex,\n      zIndex = _props$zIndex === void 0 ? 9 : _props$zIndex,\n      _props$gapX = props.gapX,\n      gapX = _props$gapX === void 0 ? 212 : _props$gapX,\n      _props$gapY = props.gapY,\n      gapY = _props$gapY === void 0 ? 222 : _props$gapY,\n      _props$width = props.width,\n      width = _props$width === void 0 ? 120 : _props$width,\n      _props$height = props.height,\n      height = _props$height === void 0 ? 64 : _props$height,\n      _props$rotate = props.rotate,\n      rotate = _props$rotate === void 0 ? -22 : _props$rotate,\n      image = props.image,\n      content = props.content,\n      offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop,\n      _props$fontStyle = props.fontStyle,\n      fontStyle = _props$fontStyle === void 0 ? 'normal' : _props$fontStyle,\n      _props$fontWeight = props.fontWeight,\n      fontWeight = _props$fontWeight === void 0 ? 'normal' : _props$fontWeight,\n      _props$fontColor = props.fontColor,\n      fontColor = _props$fontColor === void 0 ? 'rgba(0,0,0,.15)' : _props$fontColor,\n      _props$fontSize = props.fontSize,\n      fontSize = _props$fontSize === void 0 ? 16 : _props$fontSize,\n      _props$fontFamily = props.fontFamily,\n      fontFamily = _props$fontFamily === void 0 ? 'sans-serif' : _props$fontFamily,\n      customizePrefixCls = props.prefixCls;\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-layout-watermark', customizePrefixCls);\n  var wrapperCls = classNames(\"\".concat(prefixCls, \"-wrapper\"), className);\n  var waterMakrCls = classNames(prefixCls, markClassName);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      base64Url = _useState2[0],\n      setBase64Url = _useState2[1];\n\n  useEffect(function () {\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var ratio = getPixelRatio(ctx);\n    var canvasWidth = \"\".concat((gapX + width) * ratio, \"px\");\n    var canvasHeight = \"\".concat((gapY + height) * ratio, \"px\");\n    var canvasOffsetLeft = offsetLeft || gapX / 2;\n    var canvasOffsetTop = offsetTop || gapY / 2;\n    canvas.setAttribute('width', canvasWidth);\n    canvas.setAttribute('height', canvasHeight);\n\n    if (ctx) {\n      // 旋转字符 rotate\n      ctx.translate(canvasOffsetLeft * ratio, canvasOffsetTop * ratio);\n      ctx.rotate(Math.PI / 180 * Number(rotate));\n      var markWidth = width * ratio;\n      var markHeight = height * ratio;\n\n      if (image) {\n        var img = new Image();\n        img.crossOrigin = 'anonymous';\n        img.referrerPolicy = 'no-referrer';\n        img.src = image;\n\n        img.onload = function () {\n          ctx.drawImage(img, 0, 0, markWidth, markHeight);\n          setBase64Url(canvas.toDataURL());\n        };\n      } else if (content) {\n        var markSize = Number(fontSize) * ratio;\n        ctx.font = \"\".concat(fontStyle, \" normal \").concat(fontWeight, \" \").concat(markSize, \"px/\").concat(markHeight, \"px \").concat(fontFamily);\n        ctx.fillStyle = fontColor;\n        ctx.fillText(content, 0, 0);\n        setBase64Url(canvas.toDataURL());\n      }\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('当前环境不支持Canvas');\n    }\n  }, [gapX, gapY, offsetLeft, offsetTop, rotate, fontStyle, fontWeight, width, height, fontFamily, fontColor, image, content, fontSize]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread({\n      position: 'relative'\n    }, style),\n    className: wrapperCls\n  }, children, /*#__PURE__*/React.createElement(\"div\", {\n    className: waterMakrCls,\n    style: _objectSpread({\n      zIndex: zIndex,\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      backgroundSize: \"\".concat(gapX + width, \"px\"),\n      pointerEvents: 'none',\n      backgroundRepeat: 'repeat',\n      backgroundImage: \"url('\".concat(base64Url, \"')\")\n    }, markStyle)\n  }));\n};\n\nexport default WaterMark;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-layout/es/components/WaterMark/index.js"],"names":["_objectSpread","_slicedToArray","_ConfigProvider","classNames","React","useContext","useEffect","useState","getPixelRatio","context","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","window","devicePixelRatio","WaterMark","props","children","style","className","markStyle","markClassName","_props$zIndex","zIndex","_props$gapX","gapX","_props$gapY","gapY","_props$width","width","_props$height","height","_props$rotate","rotate","image","content","offsetLeft","offsetTop","_props$fontStyle","fontStyle","_props$fontWeight","fontWeight","_props$fontColor","fontColor","_props$fontSize","fontSize","_props$fontFamily","fontFamily","customizePrefixCls","prefixCls","_useContext","ConfigContext","getPrefixCls","wrapperCls","concat","waterMakrCls","_useState","_useState2","base64Url","setBase64Url","canvas","document","createElement","ctx","getContext","ratio","canvasWidth","canvasHeight","canvasOffsetLeft","canvasOffsetTop","setAttribute","translate","Math","PI","Number","markWidth","markHeight","img","Image","crossOrigin","referrerPolicy","src","onload","drawImage","toDataURL","markSize","font","fillStyle","fillText","console","error","position","left","top","backgroundSize","pointerEvents","backgroundRepeat","backgroundImage"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport classNames from 'classnames';\nimport React, { useContext, useEffect, useState } from 'react';\n/**\n * 返回当前显示设备的物理像素分辨率与CSS像素分辨率之比\n *\n * @param context\n * @see api 有些废弃了，其实类型 CanvasRenderingContext2D\n */\n\nvar getPixelRatio = function getPixelRatio(context) {\n  if (!context) {\n    return 1;\n  }\n\n  var backingStore = context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n  return (window.devicePixelRatio || 1) / backingStore;\n};\n\nvar WaterMark = function WaterMark(props) {\n  var children = props.children,\n      style = props.style,\n      className = props.className,\n      markStyle = props.markStyle,\n      markClassName = props.markClassName,\n      _props$zIndex = props.zIndex,\n      zIndex = _props$zIndex === void 0 ? 9 : _props$zIndex,\n      _props$gapX = props.gapX,\n      gapX = _props$gapX === void 0 ? 212 : _props$gapX,\n      _props$gapY = props.gapY,\n      gapY = _props$gapY === void 0 ? 222 : _props$gapY,\n      _props$width = props.width,\n      width = _props$width === void 0 ? 120 : _props$width,\n      _props$height = props.height,\n      height = _props$height === void 0 ? 64 : _props$height,\n      _props$rotate = props.rotate,\n      rotate = _props$rotate === void 0 ? -22 : _props$rotate,\n      image = props.image,\n      content = props.content,\n      offsetLeft = props.offsetLeft,\n      offsetTop = props.offsetTop,\n      _props$fontStyle = props.fontStyle,\n      fontStyle = _props$fontStyle === void 0 ? 'normal' : _props$fontStyle,\n      _props$fontWeight = props.fontWeight,\n      fontWeight = _props$fontWeight === void 0 ? 'normal' : _props$fontWeight,\n      _props$fontColor = props.fontColor,\n      fontColor = _props$fontColor === void 0 ? 'rgba(0,0,0,.15)' : _props$fontColor,\n      _props$fontSize = props.fontSize,\n      fontSize = _props$fontSize === void 0 ? 16 : _props$fontSize,\n      _props$fontFamily = props.fontFamily,\n      fontFamily = _props$fontFamily === void 0 ? 'sans-serif' : _props$fontFamily,\n      customizePrefixCls = props.prefixCls;\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-layout-watermark', customizePrefixCls);\n  var wrapperCls = classNames(\"\".concat(prefixCls, \"-wrapper\"), className);\n  var waterMakrCls = classNames(prefixCls, markClassName);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      base64Url = _useState2[0],\n      setBase64Url = _useState2[1];\n\n  useEffect(function () {\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var ratio = getPixelRatio(ctx);\n    var canvasWidth = \"\".concat((gapX + width) * ratio, \"px\");\n    var canvasHeight = \"\".concat((gapY + height) * ratio, \"px\");\n    var canvasOffsetLeft = offsetLeft || gapX / 2;\n    var canvasOffsetTop = offsetTop || gapY / 2;\n    canvas.setAttribute('width', canvasWidth);\n    canvas.setAttribute('height', canvasHeight);\n\n    if (ctx) {\n      // 旋转字符 rotate\n      ctx.translate(canvasOffsetLeft * ratio, canvasOffsetTop * ratio);\n      ctx.rotate(Math.PI / 180 * Number(rotate));\n      var markWidth = width * ratio;\n      var markHeight = height * ratio;\n\n      if (image) {\n        var img = new Image();\n        img.crossOrigin = 'anonymous';\n        img.referrerPolicy = 'no-referrer';\n        img.src = image;\n\n        img.onload = function () {\n          ctx.drawImage(img, 0, 0, markWidth, markHeight);\n          setBase64Url(canvas.toDataURL());\n        };\n      } else if (content) {\n        var markSize = Number(fontSize) * ratio;\n        ctx.font = \"\".concat(fontStyle, \" normal \").concat(fontWeight, \" \").concat(markSize, \"px/\").concat(markHeight, \"px \").concat(fontFamily);\n        ctx.fillStyle = fontColor;\n        ctx.fillText(content, 0, 0);\n        setBase64Url(canvas.toDataURL());\n      }\n    } else {\n      // eslint-disable-next-line no-console\n      console.error('当前环境不支持Canvas');\n    }\n  }, [gapX, gapY, offsetLeft, offsetTop, rotate, fontStyle, fontWeight, width, height, fontFamily, fontColor, image, content, fontSize]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: _objectSpread({\n      position: 'relative'\n    }, style),\n    className: wrapperCls\n  }, children, /*#__PURE__*/React.createElement(\"div\", {\n    className: waterMakrCls,\n    style: _objectSpread({\n      zIndex: zIndex,\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      backgroundSize: \"\".concat(gapX + width, \"px\"),\n      pointerEvents: 'none',\n      backgroundRepeat: 'repeat',\n      backgroundImage: \"url('\".concat(base64Url, \"')\")\n    }, markStyle)\n  }));\n};\n\nexport default WaterMark;"]},"metadata":{},"sourceType":"module"}