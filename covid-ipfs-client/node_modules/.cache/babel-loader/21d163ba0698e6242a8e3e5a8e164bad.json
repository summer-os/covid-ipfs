{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport pathToRegexp from 'path-to-regexp';\nexport var matchParamsPath = function matchParamsPath(pathname, breadcrumb, breadcrumbMap) {\n  // Internal logic use breadcrumbMap to ensure the order\n  // 内部逻辑使用 breadcrumbMap 来确保查询顺序\n  if (breadcrumbMap) {\n    var pathKey = _toConsumableArray(breadcrumbMap.keys()).find(function (key) {\n      return pathToRegexp(key).test(pathname);\n    });\n\n    if (pathKey) {\n      return breadcrumbMap.get(pathKey);\n    }\n  } // External uses use breadcrumb\n  // 外部用户使用 breadcrumb 参数\n\n\n  if (breadcrumb) {\n    var _pathKey = Object.keys(breadcrumb).find(function (key) {\n      return pathToRegexp(key).test(pathname);\n    });\n\n    if (_pathKey) {\n      return breadcrumb[_pathKey];\n    }\n  }\n\n  return {\n    path: ''\n  };\n};\n/**\n * 获取关于 pageTitle 的所有信息方便包装\n *\n * @param props\n * @param ignoreTitle\n */\n\nvar getPageTitleInfo = function getPageTitleInfo(props, ignoreTitle) {\n  var _props$pathname = props.pathname,\n      pathname = _props$pathname === void 0 ? '/' : _props$pathname,\n      breadcrumb = props.breadcrumb,\n      breadcrumbMap = props.breadcrumbMap,\n      formatMessage = props.formatMessage,\n      title = props.title,\n      _props$menu = props.menu,\n      menu = _props$menu === void 0 ? {\n    locale: false\n  } : _props$menu;\n  var pageTitle = ignoreTitle ? '' : title || '';\n  var currRouterData = matchParamsPath(pathname, breadcrumb, breadcrumbMap);\n\n  if (!currRouterData) {\n    return {\n      title: pageTitle,\n      id: '',\n      pageName: pageTitle\n    };\n  }\n\n  var pageName = currRouterData.name;\n\n  if (menu.locale !== false && currRouterData.locale && formatMessage) {\n    pageName = formatMessage({\n      id: currRouterData.locale || '',\n      defaultMessage: currRouterData.name\n    });\n  }\n\n  if (!pageName) {\n    return {\n      title: pageTitle,\n      id: currRouterData.locale || '',\n      pageName: pageTitle\n    };\n  }\n\n  if (ignoreTitle || !title) {\n    return {\n      title: pageName,\n      id: currRouterData.locale || '',\n      pageName: pageName\n    };\n  }\n\n  return {\n    title: \"\".concat(pageName, \" - \").concat(title),\n    id: currRouterData.locale || '',\n    pageName: pageName\n  };\n};\n\nexport { getPageTitleInfo };\n\nvar getPageTitle = function getPageTitle(props, ignoreTitle) {\n  return getPageTitleInfo(props, ignoreTitle).title;\n};\n\nexport default getPageTitle;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-layout/es/getPageTitle.js"],"names":["_toConsumableArray","pathToRegexp","matchParamsPath","pathname","breadcrumb","breadcrumbMap","pathKey","keys","find","key","test","get","_pathKey","Object","path","getPageTitleInfo","props","ignoreTitle","_props$pathname","formatMessage","title","_props$menu","menu","locale","pageTitle","currRouterData","id","pageName","name","defaultMessage","concat","getPageTitle"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport pathToRegexp from 'path-to-regexp';\nexport var matchParamsPath = function matchParamsPath(pathname, breadcrumb, breadcrumbMap) {\n  // Internal logic use breadcrumbMap to ensure the order\n  // 内部逻辑使用 breadcrumbMap 来确保查询顺序\n  if (breadcrumbMap) {\n    var pathKey = _toConsumableArray(breadcrumbMap.keys()).find(function (key) {\n      return pathToRegexp(key).test(pathname);\n    });\n\n    if (pathKey) {\n      return breadcrumbMap.get(pathKey);\n    }\n  } // External uses use breadcrumb\n  // 外部用户使用 breadcrumb 参数\n\n\n  if (breadcrumb) {\n    var _pathKey = Object.keys(breadcrumb).find(function (key) {\n      return pathToRegexp(key).test(pathname);\n    });\n\n    if (_pathKey) {\n      return breadcrumb[_pathKey];\n    }\n  }\n\n  return {\n    path: ''\n  };\n};\n/**\n * 获取关于 pageTitle 的所有信息方便包装\n *\n * @param props\n * @param ignoreTitle\n */\n\nvar getPageTitleInfo = function getPageTitleInfo(props, ignoreTitle) {\n  var _props$pathname = props.pathname,\n      pathname = _props$pathname === void 0 ? '/' : _props$pathname,\n      breadcrumb = props.breadcrumb,\n      breadcrumbMap = props.breadcrumbMap,\n      formatMessage = props.formatMessage,\n      title = props.title,\n      _props$menu = props.menu,\n      menu = _props$menu === void 0 ? {\n    locale: false\n  } : _props$menu;\n  var pageTitle = ignoreTitle ? '' : title || '';\n  var currRouterData = matchParamsPath(pathname, breadcrumb, breadcrumbMap);\n\n  if (!currRouterData) {\n    return {\n      title: pageTitle,\n      id: '',\n      pageName: pageTitle\n    };\n  }\n\n  var pageName = currRouterData.name;\n\n  if (menu.locale !== false && currRouterData.locale && formatMessage) {\n    pageName = formatMessage({\n      id: currRouterData.locale || '',\n      defaultMessage: currRouterData.name\n    });\n  }\n\n  if (!pageName) {\n    return {\n      title: pageTitle,\n      id: currRouterData.locale || '',\n      pageName: pageTitle\n    };\n  }\n\n  if (ignoreTitle || !title) {\n    return {\n      title: pageName,\n      id: currRouterData.locale || '',\n      pageName: pageName\n    };\n  }\n\n  return {\n    title: \"\".concat(pageName, \" - \").concat(title),\n    id: currRouterData.locale || '',\n    pageName: pageName\n  };\n};\n\nexport { getPageTitleInfo };\n\nvar getPageTitle = function getPageTitle(props, ignoreTitle) {\n  return getPageTitleInfo(props, ignoreTitle).title;\n};\n\nexport default getPageTitle;"]},"metadata":{},"sourceType":"module"}