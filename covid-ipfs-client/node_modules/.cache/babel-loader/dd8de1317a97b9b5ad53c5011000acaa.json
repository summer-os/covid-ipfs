{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport { isDeepEqualReact, omitUndefined } from '@ant-design/pro-utils';\nimport omit from 'omit.js';\nimport React from 'react';\nimport { isBordered } from '../../utils/index';\nimport FormRender from './FormRender';\nimport './index.less';\n\nvar FormSearch = /*#__PURE__*/function (_React$Component) {\n  _inherits(FormSearch, _React$Component);\n\n  var _super = _createSuper(FormSearch);\n\n  function FormSearch() {\n    var _this;\n\n    _classCallCheck(this, FormSearch);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.onSubmit = function (value, firstLoad) {\n      var _this$props = _this.props,\n          pagination = _this$props.pagination,\n          _this$props$beforeSea = _this$props.beforeSearchSubmit,\n          beforeSearchSubmit = _this$props$beforeSea === void 0 ? function (searchParams) {\n        return searchParams;\n      } : _this$props$beforeSea,\n          action = _this$props.action,\n          onSubmit = _this$props.onSubmit,\n          onFormSearchSubmit = _this$props.onFormSearchSubmit; // 只传入 pagination 中的 current 和 pageSize 参数\n\n      var pageInfo = pagination ? omitUndefined({\n        current: pagination.current,\n        pageSize: pagination.pageSize\n      }) : {};\n\n      var submitParams = _objectSpread(_objectSpread({}, value), {}, {\n        _timestamp: Date.now()\n      }, pageInfo);\n\n      var omitParams = omit(beforeSearchSubmit(submitParams), Object.keys(pageInfo));\n      onFormSearchSubmit(omitParams);\n\n      if (!firstLoad) {\n        var _action$current, _action$current$setPa; // back first page\n\n\n        (_action$current = action.current) === null || _action$current === void 0 ? void 0 : (_action$current$setPa = _action$current.setPageInfo) === null || _action$current$setPa === void 0 ? void 0 : _action$current$setPa.call(_action$current, {\n          current: 1\n        });\n      } // 不是第一次提交就不触发，第一次提交是 js 触发的\n      // 为了解决 https://github.com/ant-design/pro-components/issues/579\n\n\n      if (onSubmit && !firstLoad) {\n        onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit(value);\n      }\n    };\n\n    _this.onReset = function (value) {\n      var _action$current2, _action$current2$setP;\n\n      var _this$props2 = _this.props,\n          pagination = _this$props2.pagination,\n          _this$props2$beforeSe = _this$props2.beforeSearchSubmit,\n          beforeSearchSubmit = _this$props2$beforeSe === void 0 ? function (searchParams) {\n        return searchParams;\n      } : _this$props2$beforeSe,\n          action = _this$props2.action,\n          onFormSearchSubmit = _this$props2.onFormSearchSubmit,\n          onReset = _this$props2.onReset;\n      var pageInfo = pagination ? omitUndefined({\n        current: pagination.current,\n        pageSize: pagination.pageSize\n      }) : {};\n      var omitParams = omit(beforeSearchSubmit(_objectSpread(_objectSpread({}, value), pageInfo)), Object.keys(pageInfo));\n      onFormSearchSubmit(omitParams); // back first page\n\n      (_action$current2 = action.current) === null || _action$current2 === void 0 ? void 0 : (_action$current2$setP = _action$current2.setPageInfo) === null || _action$current2$setP === void 0 ? void 0 : _action$current2$setP.call(_action$current2, {\n        current: 1\n      });\n      onReset === null || onReset === void 0 ? void 0 : onReset();\n    };\n\n    _this.isEqual = function (next) {\n      var _this$props3 = _this.props,\n          columns = _this$props3.columns,\n          loading = _this$props3.loading,\n          formRef = _this$props3.formRef,\n          type = _this$props3.type,\n          cardBordered = _this$props3.cardBordered,\n          dateFormatter = _this$props3.dateFormatter,\n          form = _this$props3.form,\n          search = _this$props3.search,\n          manualRequest = _this$props3.manualRequest;\n      var diffProps = {\n        columns: columns,\n        loading: loading,\n        formRef: formRef,\n        type: type,\n        cardBordered: cardBordered,\n        dateFormatter: dateFormatter,\n        form: form,\n        search: search,\n        manualRequest: manualRequest\n      };\n      return !isDeepEqualReact(diffProps, {\n        columns: next.columns,\n        formRef: next.formRef,\n        loading: next.loading,\n        type: next.type,\n        cardBordered: next.cardBordered,\n        dateFormatter: next.dateFormatter,\n        form: next.form,\n        search: next.search,\n        manualRequest: next.manualRequest\n      });\n    };\n\n    _this.shouldComponentUpdate = function (next) {\n      return _this.isEqual(next);\n    };\n\n    _this.render = function () {\n      var _this$props4 = _this.props,\n          columns = _this$props4.columns,\n          loading = _this$props4.loading,\n          formRef = _this$props4.formRef,\n          type = _this$props4.type,\n          action = _this$props4.action,\n          cardBordered = _this$props4.cardBordered,\n          dateFormatter = _this$props4.dateFormatter,\n          form = _this$props4.form,\n          search = _this$props4.search,\n          pagination = _this$props4.pagination,\n          ghost = _this$props4.ghost,\n          manualRequest = _this$props4.manualRequest;\n      var pageInfo = pagination ? omitUndefined({\n        current: pagination.current,\n        pageSize: pagination.pageSize\n      }) : {};\n      return /*#__PURE__*/React.createElement(FormRender, {\n        submitButtonLoading: loading,\n        columns: columns,\n        type: type,\n        ghost: ghost,\n        formRef: formRef,\n        onSubmit: _this.onSubmit,\n        manualRequest: manualRequest,\n        onReset: _this.onReset,\n        dateFormatter: dateFormatter,\n        search: search,\n        form: _objectSpread(_objectSpread({\n          autoFocusFirstInput: false\n        }, form), {}, {\n          extraUrlParams: _objectSpread(_objectSpread({}, pageInfo), form === null || form === void 0 ? void 0 : form.extraUrlParams)\n        }),\n        action: action,\n        bordered: isBordered('search', cardBordered)\n      });\n    };\n\n    return _this;\n  }\n\n  return _createClass(FormSearch);\n}(React.Component);\n\nexport default FormSearch;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-table/es/components/Form/index.js"],"names":["_objectSpread","_createClass","_classCallCheck","_inherits","_createSuper","isDeepEqualReact","omitUndefined","omit","React","isBordered","FormRender","FormSearch","_React$Component","_super","_this","_len","arguments","length","args","Array","_key","call","apply","concat","onSubmit","value","firstLoad","_this$props","props","pagination","_this$props$beforeSea","beforeSearchSubmit","searchParams","action","onFormSearchSubmit","pageInfo","current","pageSize","submitParams","_timestamp","Date","now","omitParams","Object","keys","_action$current","_action$current$setPa","setPageInfo","onReset","_action$current2","_action$current2$setP","_this$props2","_this$props2$beforeSe","isEqual","next","_this$props3","columns","loading","formRef","type","cardBordered","dateFormatter","form","search","manualRequest","diffProps","shouldComponentUpdate","render","_this$props4","ghost","createElement","submitButtonLoading","autoFocusFirstInput","extraUrlParams","bordered","Component"],"mappings":"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","sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport { isDeepEqualReact, omitUndefined } from '@ant-design/pro-utils';\nimport omit from 'omit.js';\nimport React from 'react';\nimport { isBordered } from '../../utils/index';\nimport FormRender from './FormRender';\nimport './index.less';\n\nvar FormSearch = /*#__PURE__*/function (_React$Component) {\n  _inherits(FormSearch, _React$Component);\n\n  var _super = _createSuper(FormSearch);\n\n  function FormSearch() {\n    var _this;\n\n    _classCallCheck(this, FormSearch);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _this.onSubmit = function (value, firstLoad) {\n      var _this$props = _this.props,\n          pagination = _this$props.pagination,\n          _this$props$beforeSea = _this$props.beforeSearchSubmit,\n          beforeSearchSubmit = _this$props$beforeSea === void 0 ? function (searchParams) {\n        return searchParams;\n      } : _this$props$beforeSea,\n          action = _this$props.action,\n          onSubmit = _this$props.onSubmit,\n          onFormSearchSubmit = _this$props.onFormSearchSubmit; // 只传入 pagination 中的 current 和 pageSize 参数\n\n      var pageInfo = pagination ? omitUndefined({\n        current: pagination.current,\n        pageSize: pagination.pageSize\n      }) : {};\n\n      var submitParams = _objectSpread(_objectSpread({}, value), {}, {\n        _timestamp: Date.now()\n      }, pageInfo);\n\n      var omitParams = omit(beforeSearchSubmit(submitParams), Object.keys(pageInfo));\n      onFormSearchSubmit(omitParams);\n\n      if (!firstLoad) {\n        var _action$current, _action$current$setPa;\n\n        // back first page\n        (_action$current = action.current) === null || _action$current === void 0 ? void 0 : (_action$current$setPa = _action$current.setPageInfo) === null || _action$current$setPa === void 0 ? void 0 : _action$current$setPa.call(_action$current, {\n          current: 1\n        });\n      } // 不是第一次提交就不触发，第一次提交是 js 触发的\n      // 为了解决 https://github.com/ant-design/pro-components/issues/579\n\n\n      if (onSubmit && !firstLoad) {\n        onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit(value);\n      }\n    };\n\n    _this.onReset = function (value) {\n      var _action$current2, _action$current2$setP;\n\n      var _this$props2 = _this.props,\n          pagination = _this$props2.pagination,\n          _this$props2$beforeSe = _this$props2.beforeSearchSubmit,\n          beforeSearchSubmit = _this$props2$beforeSe === void 0 ? function (searchParams) {\n        return searchParams;\n      } : _this$props2$beforeSe,\n          action = _this$props2.action,\n          onFormSearchSubmit = _this$props2.onFormSearchSubmit,\n          onReset = _this$props2.onReset;\n      var pageInfo = pagination ? omitUndefined({\n        current: pagination.current,\n        pageSize: pagination.pageSize\n      }) : {};\n      var omitParams = omit(beforeSearchSubmit(_objectSpread(_objectSpread({}, value), pageInfo)), Object.keys(pageInfo));\n      onFormSearchSubmit(omitParams); // back first page\n\n      (_action$current2 = action.current) === null || _action$current2 === void 0 ? void 0 : (_action$current2$setP = _action$current2.setPageInfo) === null || _action$current2$setP === void 0 ? void 0 : _action$current2$setP.call(_action$current2, {\n        current: 1\n      });\n      onReset === null || onReset === void 0 ? void 0 : onReset();\n    };\n\n    _this.isEqual = function (next) {\n      var _this$props3 = _this.props,\n          columns = _this$props3.columns,\n          loading = _this$props3.loading,\n          formRef = _this$props3.formRef,\n          type = _this$props3.type,\n          cardBordered = _this$props3.cardBordered,\n          dateFormatter = _this$props3.dateFormatter,\n          form = _this$props3.form,\n          search = _this$props3.search,\n          manualRequest = _this$props3.manualRequest;\n      var diffProps = {\n        columns: columns,\n        loading: loading,\n        formRef: formRef,\n        type: type,\n        cardBordered: cardBordered,\n        dateFormatter: dateFormatter,\n        form: form,\n        search: search,\n        manualRequest: manualRequest\n      };\n      return !isDeepEqualReact(diffProps, {\n        columns: next.columns,\n        formRef: next.formRef,\n        loading: next.loading,\n        type: next.type,\n        cardBordered: next.cardBordered,\n        dateFormatter: next.dateFormatter,\n        form: next.form,\n        search: next.search,\n        manualRequest: next.manualRequest\n      });\n    };\n\n    _this.shouldComponentUpdate = function (next) {\n      return _this.isEqual(next);\n    };\n\n    _this.render = function () {\n      var _this$props4 = _this.props,\n          columns = _this$props4.columns,\n          loading = _this$props4.loading,\n          formRef = _this$props4.formRef,\n          type = _this$props4.type,\n          action = _this$props4.action,\n          cardBordered = _this$props4.cardBordered,\n          dateFormatter = _this$props4.dateFormatter,\n          form = _this$props4.form,\n          search = _this$props4.search,\n          pagination = _this$props4.pagination,\n          ghost = _this$props4.ghost,\n          manualRequest = _this$props4.manualRequest;\n      var pageInfo = pagination ? omitUndefined({\n        current: pagination.current,\n        pageSize: pagination.pageSize\n      }) : {};\n      return /*#__PURE__*/React.createElement(FormRender, {\n        submitButtonLoading: loading,\n        columns: columns,\n        type: type,\n        ghost: ghost,\n        formRef: formRef,\n        onSubmit: _this.onSubmit,\n        manualRequest: manualRequest,\n        onReset: _this.onReset,\n        dateFormatter: dateFormatter,\n        search: search,\n        form: _objectSpread(_objectSpread({\n          autoFocusFirstInput: false\n        }, form), {}, {\n          extraUrlParams: _objectSpread(_objectSpread({}, pageInfo), form === null || form === void 0 ? void 0 : form.extraUrlParams)\n        }),\n        action: action,\n        bordered: isBordered('search', cardBordered)\n      });\n    };\n\n    return _this;\n  }\n\n  return _createClass(FormSearch);\n}(React.Component);\n\nexport default FormSearch;"]},"metadata":{},"sourceType":"module"}