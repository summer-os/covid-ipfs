{"ast":null,"code":"import \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"rules\", \"name\", \"phoneName\", \"fieldProps\", \"captchaTextRender\", \"captchaProps\"];\nimport React, { useEffect, useState } from 'react';\nimport { createField } from '../../BaseForm/createField';\nvar BaseProFormCaptcha = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useState = useState(props.countDown || 60),\n      _useState2 = _slicedToArray(_useState, 2),\n      count = _useState2[0],\n      setCount = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      timing = _useState4[0],\n      setTiming = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1]; // 这么写是为了防止restProps中 带入 onChange, defaultValue, rules props tabUtil\n\n\n  var rules = props.rules,\n      name = props.name,\n      phoneName = props.phoneName,\n      fieldProps = props.fieldProps,\n      _props$captchaTextRen = props.captchaTextRender,\n      captchaTextRender = _props$captchaTextRen === void 0 ? function (paramsTiming, paramsCount) {\n    return paramsTiming ? \"\".concat(paramsCount, \" \\u79D2\\u540E\\u91CD\\u65B0\\u83B7\\u53D6\") : '获取验证码';\n  } : _props$captchaTextRen,\n      captchaProps = props.captchaProps,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var onGetCaptcha = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(mobile) {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return restProps.onGetCaptcha(mobile);\n\n            case 4:\n              setLoading(false);\n              setTiming(true);\n              _context.next = 13;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              setTiming(false);\n              setLoading(false); // eslint-disable-next-line no-console\n\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function onGetCaptcha(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var interval = 0;\n    var countDown = props.countDown;\n\n    if (timing) {\n      interval = window.setInterval(function () {\n        setCount(function (preSecond) {\n          if (preSecond <= 1) {\n            setTiming(false);\n            clearInterval(interval); // 重置秒数\n\n            return countDown || 60;\n          }\n\n          return preSecond - 1;\n        });\n      }, 1000);\n    }\n\n    return function () {\n      return clearInterval(interval);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [timing]);\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: true\n  }, function (_ref2) {\n    var getFieldValue = _ref2.getFieldValue,\n        validateFields = _ref2.validateFields;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: _objectSpread(_objectSpread({}, fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.style), {}, {\n        display: 'flex',\n        alignItems: 'center'\n      }),\n      ref: ref\n    }, /*#__PURE__*/React.createElement(_Input, _extends({}, fieldProps, {\n      style: {\n        flex: 1,\n        transition: 'width .3s',\n        marginRight: 8\n      }\n    })), /*#__PURE__*/React.createElement(_Button, _extends({\n      style: {\n        display: 'block'\n      },\n      disabled: timing,\n      loading: loading\n    }, captchaProps, {\n      onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var mobile;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                if (!phoneName) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                _context2.next = 4;\n                return validateFields([phoneName].flat(1));\n\n              case 4:\n                mobile = getFieldValue([phoneName].flat(1));\n                _context2.next = 7;\n                return onGetCaptcha(mobile);\n\n              case 7:\n                _context2.next = 11;\n                break;\n\n              case 9:\n                _context2.next = 11;\n                return onGetCaptcha('');\n\n              case 11:\n                _context2.next = 16;\n                break;\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](0); // eslint-disable-next-line no-console\n\n                console.log(_context2.t0);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 13]]);\n      }))\n    }), captchaTextRender(timing, count)));\n  });\n});\nvar ProFormCaptcha = createField(BaseProFormCaptcha);\nexport default ProFormCaptcha;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-form/es/components/Captcha/index.js"],"names":["_Form","_Button","_Input","_extends","_objectSpread","_regeneratorRuntime","_asyncToGenerator","_objectWithoutProperties","_slicedToArray","_excluded","React","useEffect","useState","createField","BaseProFormCaptcha","forwardRef","props","ref","_useState","countDown","_useState2","count","setCount","_useState3","_useState4","timing","setTiming","_useState5","_useState6","loading","setLoading","rules","name","phoneName","fieldProps","_props$captchaTextRen","captchaTextRender","paramsTiming","paramsCount","concat","captchaProps","restProps","onGetCaptcha","_ref","mark","_callee","mobile","wrap","_callee$","_context","prev","next","t0","console","log","stop","_x","apply","arguments","interval","window","setInterval","preSecond","clearInterval","createElement","Item","noStyle","shouldUpdate","_ref2","getFieldValue","validateFields","style","display","alignItems","flex","transition","marginRight","disabled","onClick","_callee2","_callee2$","_context2","flat","ProFormCaptcha"],"mappings":"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","sourcesContent":["import \"antd/es/form/style\";\nimport _Form from \"antd/es/form\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/input/style\";\nimport _Input from \"antd/es/input\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar _excluded = [\"rules\", \"name\", \"phoneName\", \"fieldProps\", \"captchaTextRender\", \"captchaProps\"];\nimport React, { useEffect, useState } from 'react';\nimport { createField } from '../../BaseForm/createField';\nvar BaseProFormCaptcha = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _useState = useState(props.countDown || 60),\n      _useState2 = _slicedToArray(_useState, 2),\n      count = _useState2[0],\n      setCount = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      timing = _useState4[0],\n      setTiming = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1]; // 这么写是为了防止restProps中 带入 onChange, defaultValue, rules props tabUtil\n\n\n  var rules = props.rules,\n      name = props.name,\n      phoneName = props.phoneName,\n      fieldProps = props.fieldProps,\n      _props$captchaTextRen = props.captchaTextRender,\n      captchaTextRender = _props$captchaTextRen === void 0 ? function (paramsTiming, paramsCount) {\n    return paramsTiming ? \"\".concat(paramsCount, \" \\u79D2\\u540E\\u91CD\\u65B0\\u83B7\\u53D6\") : '获取验证码';\n  } : _props$captchaTextRen,\n      captchaProps = props.captchaProps,\n      restProps = _objectWithoutProperties(props, _excluded);\n\n  var onGetCaptcha = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(mobile) {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              setLoading(true);\n              _context.next = 4;\n              return restProps.onGetCaptcha(mobile);\n\n            case 4:\n              setLoading(false);\n              setTiming(true);\n              _context.next = 13;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              setTiming(false);\n              setLoading(false); // eslint-disable-next-line no-console\n\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function onGetCaptcha(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    var interval = 0;\n    var countDown = props.countDown;\n\n    if (timing) {\n      interval = window.setInterval(function () {\n        setCount(function (preSecond) {\n          if (preSecond <= 1) {\n            setTiming(false);\n            clearInterval(interval); // 重置秒数\n\n            return countDown || 60;\n          }\n\n          return preSecond - 1;\n        });\n      }, 1000);\n    }\n\n    return function () {\n      return clearInterval(interval);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [timing]);\n  return /*#__PURE__*/React.createElement(_Form.Item, {\n    noStyle: true,\n    shouldUpdate: true\n  }, function (_ref2) {\n    var getFieldValue = _ref2.getFieldValue,\n        validateFields = _ref2.validateFields;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: _objectSpread(_objectSpread({}, fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.style), {}, {\n        display: 'flex',\n        alignItems: 'center'\n      }),\n      ref: ref\n    }, /*#__PURE__*/React.createElement(_Input, _extends({}, fieldProps, {\n      style: {\n        flex: 1,\n        transition: 'width .3s',\n        marginRight: 8\n      }\n    })), /*#__PURE__*/React.createElement(_Button, _extends({\n      style: {\n        display: 'block'\n      },\n      disabled: timing,\n      loading: loading\n    }, captchaProps, {\n      onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var mobile;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                if (!phoneName) {\n                  _context2.next = 9;\n                  break;\n                }\n\n                _context2.next = 4;\n                return validateFields([phoneName].flat(1));\n\n              case 4:\n                mobile = getFieldValue([phoneName].flat(1));\n                _context2.next = 7;\n                return onGetCaptcha(mobile);\n\n              case 7:\n                _context2.next = 11;\n                break;\n\n              case 9:\n                _context2.next = 11;\n                return onGetCaptcha('');\n\n              case 11:\n                _context2.next = 16;\n                break;\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2[\"catch\"](0);\n                // eslint-disable-next-line no-console\n                console.log(_context2.t0);\n\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 13]]);\n      }))\n    }), captchaTextRender(timing, count)));\n  });\n});\nvar ProFormCaptcha = createField(BaseProFormCaptcha);\nexport default ProFormCaptcha;"]},"metadata":{},"sourceType":"module"}