{"ast":null,"code":"import \"antd/es/drawer/style\";\nimport _Drawer from \"antd/es/drawer\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/alert/style\";\nimport _Alert from \"antd/es/alert\";\nimport \"antd/es/list/style\";\nimport _List from \"antd/es/list\";\nimport \"antd/es/switch/style\";\nimport _Switch from \"antd/es/switch\";\nimport \"antd/es/divider/style\";\nimport _Divider from \"antd/es/divider\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { CloseOutlined, CopyOutlined, NotificationOutlined, SettingOutlined } from '@ant-design/icons';\nimport { isBrowser, merge } from '@ant-design/pro-utils';\nimport { disable as darkreaderDisable, enable as darkreaderEnable, setFetchMethod as setFetch } from '@umijs/ssr-darkreader';\nimport { useUrlSearchParams } from '@umijs/use-params';\nimport omit from 'omit.js';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport defaultSettings from '../../defaultSettings';\nimport { getLanguage, gLocaleObject } from '../../locales';\nimport { genStringToTheme } from '../../utils/utils';\nimport BlockCheckbox from './BlockCheckbox';\nimport './index.less';\nimport LayoutSetting, { renderLayoutSettingItem } from './LayoutChange';\nimport RegionalSetting from './RegionalChange';\nimport ThemeColor from './ThemeColor';\n\nvar Body = function Body(_ref) {\n  var children = _ref.children,\n      prefixCls = _ref.prefixCls,\n      title = _ref.title;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"\".concat(prefixCls, \"-drawer-title\")\n  }, title), children);\n};\n\nvar getDifferentSetting = function getDifferentSetting(state) {\n  var stateObj = {};\n  Object.keys(state).forEach(function (key) {\n    if (state[key] !== defaultSettings[key] && key !== 'collapse') {\n      stateObj[key] = state[key];\n    } else {\n      stateObj[key] = undefined;\n    }\n\n    if (key.includes('Render')) stateObj[key] = state[key] === false ? false : undefined;\n  });\n  stateObj.menu = undefined;\n  return stateObj;\n};\n\nexport var getFormatMessage = function getFormatMessage() {\n  var formatMessage = function formatMessage(_ref2) {\n    var id = _ref2.id;\n    var locales = gLocaleObject();\n    return locales[id];\n  };\n\n  return formatMessage;\n};\n\nvar updateTheme = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(dark, color) {\n    var defaultTheme, defaultFixes;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(typeof window === 'undefined')) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 2:\n            if (!(typeof window.MutationObserver === 'undefined')) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 4:\n            if (_ConfigProvider.config) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 6:\n            _ConfigProvider.config({\n              theme: {\n                primaryColor: genStringToTheme(color) || '#1890ff'\n              }\n            });\n\n            if (dark) {\n              defaultTheme = {\n                brightness: 100,\n                contrast: 90,\n                sepia: 10\n              };\n              defaultFixes = {\n                invert: [],\n                css: '',\n                ignoreInlineStyle: ['.react-switch-handle'],\n                ignoreImageAnalysis: [],\n                disableStyleSheetsProxy: true\n              };\n\n              if (window.MutationObserver && window.fetch) {\n                setFetch(window.fetch);\n                darkreaderEnable(defaultTheme, defaultFixes);\n              }\n            } else {\n              if (window.MutationObserver) darkreaderDisable();\n            }\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function updateTheme(_x, _x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n/**\n * 初始化的时候需要做的工作\n *\n * @param param0\n */\n\n\nvar initState = function initState(urlParams, settings, onSettingChange) {\n  if (!isBrowser()) return;\n  var replaceSetting = {};\n  Object.keys(urlParams).forEach(function (key) {\n    if (defaultSettings[key] || defaultSettings[key] === undefined) {\n      if (key === 'primaryColor') {\n        replaceSetting[key] = genStringToTheme(urlParams[key]);\n        return;\n      }\n\n      replaceSetting[key] = urlParams[key];\n    }\n  });\n  var newSettings = merge({}, settings, replaceSetting);\n  delete newSettings.menu;\n  delete newSettings.title;\n  delete newSettings.iconfontUrl; // 同步数据到外部\n\n  onSettingChange === null || onSettingChange === void 0 ? void 0 : onSettingChange(newSettings); // 如果 url 中设置主题，进行一次加载。\n\n  if (defaultSettings.navTheme !== urlParams.navTheme && urlParams.navTheme) {\n    updateTheme(settings.navTheme === 'realDark', urlParams.primaryColor);\n  }\n};\n\nvar getParamsFromUrl = function getParamsFromUrl(urlParams, settings) {\n  if (!isBrowser()) return defaultSettings;\n  return _objectSpread(_objectSpread(_objectSpread({}, defaultSettings), settings || {}), urlParams);\n};\n\nvar genCopySettingJson = function genCopySettingJson(settingState) {\n  return JSON.stringify(omit(_objectSpread(_objectSpread({}, settingState), {}, {\n    primaryColor: settingState.primaryColor\n  }), ['colorWeak']), null, 2);\n};\n/**\n * 可视化配置组件\n *\n * @param props\n */\n\n\nvar SettingDrawer = function SettingDrawer(props) {\n  var _props$defaultSetting = props.defaultSettings,\n      propsDefaultSettings = _props$defaultSetting === void 0 ? undefined : _props$defaultSetting,\n      _props$settings = props.settings,\n      propsSettings = _props$settings === void 0 ? undefined : _props$settings,\n      hideHintAlert = props.hideHintAlert,\n      hideCopyButton = props.hideCopyButton,\n      _props$colorList = props.colorList,\n      colorList = _props$colorList === void 0 ? [{\n    key: 'daybreak',\n    color: '#1890ff'\n  }, {\n    key: 'dust',\n    color: '#F5222D'\n  }, {\n    key: 'volcano',\n    color: '#FA541C'\n  }, {\n    key: 'sunset',\n    color: '#FAAD14'\n  }, {\n    key: 'cyan',\n    color: '#13C2C2'\n  }, {\n    key: 'green',\n    color: '#52C41A'\n  }, {\n    key: 'geekblue',\n    color: '#2F54EB'\n  }, {\n    key: 'purple',\n    color: '#722ED1'\n  }] : _props$colorList,\n      getContainer = props.getContainer,\n      onSettingChange = props.onSettingChange,\n      enableDarkTheme = props.enableDarkTheme,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'ant-pro' : _props$prefixCls,\n      _props$pathname = props.pathname,\n      pathname = _props$pathname === void 0 ? window.location.pathname : _props$pathname,\n      _props$disableUrlPara = props.disableUrlParams,\n      disableUrlParams = _props$disableUrlPara === void 0 ? true : _props$disableUrlPara,\n      themeOnly = props.themeOnly;\n  var firstRender = useRef(true);\n\n  var _useMergedState = useMergedState(false, {\n    value: props.collapse,\n    onChange: props.onCollapseChange\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      show = _useMergedState2[0],\n      setShow = _useMergedState2[1];\n\n  var _useState = useState(getLanguage()),\n      _useState2 = _slicedToArray(_useState, 2),\n      language = _useState2[0],\n      setLanguage = _useState2[1];\n\n  var _useUrlSearchParams = useUrlSearchParams({}, {\n    disabled: disableUrlParams\n  }),\n      _useUrlSearchParams2 = _slicedToArray(_useUrlSearchParams, 2),\n      urlParams = _useUrlSearchParams2[0],\n      setUrlParams = _useUrlSearchParams2[1];\n\n  var _useMergedState3 = useMergedState(function () {\n    return getParamsFromUrl(urlParams, propsSettings || propsDefaultSettings);\n  }, {\n    value: propsSettings,\n    onChange: onSettingChange\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      settingState = _useMergedState4[0],\n      setSettingState = _useMergedState4[1];\n\n  var _ref4 = settingState || {},\n      navTheme = _ref4.navTheme,\n      primaryColor = _ref4.primaryColor,\n      layout = _ref4.layout,\n      colorWeak = _ref4.colorWeak;\n\n  useEffect(function () {\n    // 语言修改，这个是和 locale 是配置起来的\n    var onLanguageChange = function onLanguageChange() {\n      if (language !== getLanguage()) {\n        setLanguage(getLanguage());\n      }\n    };\n    /** 如果不是浏览器 都没有必要做了 */\n\n\n    if (!isBrowser()) return function () {\n      return null;\n    };\n    initState(getParamsFromUrl(urlParams, propsSettings), settingState, setSettingState);\n    window.document.addEventListener('languagechange', onLanguageChange, {\n      passive: true\n    });\n    return function () {\n      return window.document.removeEventListener('languagechange', onLanguageChange);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(function () {\n    updateTheme(settingState.navTheme === 'realDark', settingState.primaryColor);\n  }, [settingState.primaryColor, settingState.navTheme]);\n  /**\n   * 修改设置\n   *\n   * @param key\n   * @param value\n   */\n\n  var changeSetting = function changeSetting(key, value) {\n    var nextState = {};\n    nextState[key] = value;\n\n    if (key === 'layout') {\n      nextState.contentWidth = value === 'top' ? 'Fixed' : 'Fluid';\n    }\n\n    if (key === 'layout' && value !== 'mix') {\n      nextState.splitMenus = false;\n    }\n\n    if (key === 'layout' && value === 'mix') {\n      nextState.navTheme = 'light';\n    }\n\n    if (key === 'colorWeak' && value === true) {\n      var dom = document.querySelector('body');\n\n      if (dom) {\n        dom.dataset.prosettingdrawer = dom.style.filter;\n        dom.style.filter = 'invert(80%)';\n      }\n    }\n\n    if (key === 'colorWeak' && value === false) {\n      var _dom = document.querySelector('body');\n\n      if (_dom) {\n        _dom.style.filter = _dom.dataset.prosettingdrawer || 'none';\n        delete _dom.dataset.prosettingdrawer;\n      }\n    }\n\n    delete nextState.menu;\n    delete nextState.title;\n    delete nextState.iconfontUrl;\n    delete nextState.logo;\n    delete nextState.pwa;\n    setSettingState(_objectSpread(_objectSpread({}, settingState), nextState));\n  };\n\n  var formatMessage = getFormatMessage();\n  useEffect(function () {\n    /** 如果不是浏览器 都没有必要做了 */\n    if (!isBrowser()) return;\n    if (disableUrlParams) return;\n\n    if (firstRender.current) {\n      firstRender.current = false;\n      return;\n    }\n    /** 每次从url拿最新的防止记忆 */\n\n\n    var urlSearchParams = new URLSearchParams(window.location.search);\n    var params = Object.fromEntries(urlSearchParams.entries());\n    var diffParams = getDifferentSetting(_objectSpread(_objectSpread({}, params), settingState));\n    delete diffParams.logo;\n    delete diffParams.menu;\n    delete diffParams.title;\n    delete diffParams.iconfontUrl;\n    delete diffParams.pwa;\n    setUrlParams(diffParams);\n  }, [setUrlParams, settingState, urlParams, pathname, disableUrlParams]);\n  var baseClassName = \"\".concat(prefixCls, \"-setting\");\n  return /*#__PURE__*/React.createElement(_Drawer, {\n    visible: show,\n    width: 300,\n    closable: false,\n    onClose: function onClose() {\n      return setShow(false);\n    },\n    placement: \"right\",\n    getContainer: getContainer,\n    handler: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(baseClassName, \"-drawer-handle\"),\n      onClick: function onClick() {\n        return setShow(!show);\n      }\n    }, show ? /*#__PURE__*/React.createElement(CloseOutlined, {\n      style: {\n        color: '#fff',\n        fontSize: 20\n      }\n    }) : /*#__PURE__*/React.createElement(SettingOutlined, {\n      style: {\n        color: '#fff',\n        fontSize: 20\n      }\n    })),\n    style: {\n      zIndex: 999\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-drawer-content\")\n  }, /*#__PURE__*/React.createElement(Body, {\n    title: formatMessage({\n      id: 'app.setting.pagestyle',\n      defaultMessage: 'Page style setting'\n    }),\n    prefixCls: baseClassName\n  }, /*#__PURE__*/React.createElement(BlockCheckbox, {\n    prefixCls: baseClassName,\n    list: [{\n      key: 'light',\n      title: formatMessage({\n        id: 'app.setting.pagestyle.light',\n        defaultMessage: '亮色菜单风格'\n      })\n    }, {\n      key: 'dark',\n      title: formatMessage({\n        id: 'app.setting.pagestyle.dark',\n        defaultMessage: '暗色菜单风格'\n      })\n    }, {\n      key: 'realDark',\n      title: formatMessage({\n        id: 'app.setting.pagestyle.realdark',\n        defaultMessage: '暗色菜单风格'\n      })\n    }].filter(function (item) {\n      if (item.key === 'dark' && settingState.layout === 'mix') return false;\n      if (item.key === 'realDark' && !enableDarkTheme) return false;\n      return true;\n    }),\n    value: navTheme,\n    configType: \"theme\",\n    key: \"navTheme\",\n    onChange: function onChange(value) {\n      return changeSetting('navTheme', value);\n    }\n  })), colorList !== false && /*#__PURE__*/React.createElement(Body, {\n    title: formatMessage({\n      id: 'app.setting.themecolor',\n      defaultMessage: 'Theme color'\n    }),\n    prefixCls: baseClassName\n  }, /*#__PURE__*/React.createElement(ThemeColor, {\n    colorList: colorList,\n    value: genStringToTheme(primaryColor),\n    formatMessage: formatMessage,\n    onChange: function onChange(color) {\n      return changeSetting('primaryColor', color);\n    }\n  })), !themeOnly && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Divider, null), /*#__PURE__*/React.createElement(Body, {\n    prefixCls: baseClassName,\n    title: formatMessage({\n      id: 'app.setting.navigationmode'\n    })\n  }, /*#__PURE__*/React.createElement(BlockCheckbox, {\n    prefixCls: baseClassName,\n    value: layout,\n    key: \"layout\",\n    configType: \"layout\",\n    list: [{\n      key: 'side',\n      title: formatMessage({\n        id: 'app.setting.sidemenu'\n      })\n    }, {\n      key: 'top',\n      title: formatMessage({\n        id: 'app.setting.topmenu'\n      })\n    }, {\n      key: 'mix',\n      title: formatMessage({\n        id: 'app.setting.mixmenu'\n      })\n    }],\n    onChange: function onChange(value) {\n      return changeSetting('layout', value);\n    }\n  })), /*#__PURE__*/React.createElement(LayoutSetting, {\n    settings: settingState,\n    changeSetting: changeSetting\n  }), /*#__PURE__*/React.createElement(_Divider, null), /*#__PURE__*/React.createElement(Body, {\n    prefixCls: baseClassName,\n    title: formatMessage({\n      id: 'app.setting.regionalsettings'\n    })\n  }, /*#__PURE__*/React.createElement(RegionalSetting, {\n    settings: settingState,\n    changeSetting: changeSetting\n  })), /*#__PURE__*/React.createElement(_Divider, null), /*#__PURE__*/React.createElement(Body, {\n    prefixCls: baseClassName,\n    title: formatMessage({\n      id: 'app.setting.othersettings'\n    })\n  }, /*#__PURE__*/React.createElement(_List, {\n    split: false,\n    renderItem: renderLayoutSettingItem,\n    dataSource: [{\n      title: formatMessage({\n        id: 'app.setting.weakmode'\n      }),\n      action: /*#__PURE__*/React.createElement(_Switch, {\n        size: \"small\",\n        className: \"color-weak\",\n        checked: !!colorWeak,\n        onChange: function onChange(checked) {\n          changeSetting('colorWeak', checked);\n        }\n      })\n    }]\n  })), hideHintAlert && hideCopyButton ? null : /*#__PURE__*/React.createElement(_Divider, null), hideHintAlert ? null : /*#__PURE__*/React.createElement(_Alert, {\n    type: \"warning\",\n    message: formatMessage({\n      id: 'app.setting.production.hint'\n    }),\n    icon: /*#__PURE__*/React.createElement(NotificationOutlined, null),\n    showIcon: true,\n    style: {\n      marginBottom: 16\n    }\n  }), hideCopyButton ? null : /*#__PURE__*/React.createElement(_Button, {\n    block: true,\n    icon: /*#__PURE__*/React.createElement(CopyOutlined, null),\n    style: {\n      marginBottom: 24\n    },\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return navigator.clipboard.writeText(genCopySettingJson(settingState));\n\n            case 3:\n              _message.success(formatMessage({\n                id: 'app.setting.copyinfo'\n              }));\n\n              _context2.next = 8;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }))\n  }, formatMessage({\n    id: 'app.setting.copy'\n  })))));\n};\n\nexport default SettingDrawer;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-layout/es/components/SettingDrawer/index.js"],"names":["_Drawer","_Button","_message","_Alert","_List","_Switch","_Divider","_slicedToArray","_objectSpread","_regeneratorRuntime","_ConfigProvider","_asyncToGenerator","CloseOutlined","CopyOutlined","NotificationOutlined","SettingOutlined","isBrowser","merge","disable","darkreaderDisable","enable","darkreaderEnable","setFetchMethod","setFetch","useUrlSearchParams","omit","useMergedState","React","useEffect","useRef","useState","defaultSettings","getLanguage","gLocaleObject","genStringToTheme","BlockCheckbox","LayoutSetting","renderLayoutSettingItem","RegionalSetting","ThemeColor","Body","_ref","children","prefixCls","title","createElement","style","marginBottom","className","concat","getDifferentSetting","state","stateObj","Object","keys","forEach","key","undefined","includes","menu","getFormatMessage","formatMessage","_ref2","id","locales","updateTheme","_ref3","mark","_callee","dark","color","defaultTheme","defaultFixes","wrap","_callee$","_context","prev","next","window","abrupt","MutationObserver","config","theme","primaryColor","brightness","contrast","sepia","invert","css","ignoreInlineStyle","ignoreImageAnalysis","disableStyleSheetsProxy","fetch","stop","_x","_x2","apply","arguments","initState","urlParams","settings","onSettingChange","replaceSetting","newSettings","iconfontUrl","navTheme","getParamsFromUrl","genCopySettingJson","settingState","JSON","stringify","SettingDrawer","props","_props$defaultSetting","propsDefaultSettings","_props$settings","propsSettings","hideHintAlert","hideCopyButton","_props$colorList","colorList","getContainer","enableDarkTheme","_props$prefixCls","_props$pathname","pathname","location","_props$disableUrlPara","disableUrlParams","themeOnly","firstRender","_useMergedState","value","collapse","onChange","onCollapseChange","_useMergedState2","show","setShow","_useState","_useState2","language","setLanguage","_useUrlSearchParams","disabled","_useUrlSearchParams2","setUrlParams","_useMergedState3","_useMergedState4","setSettingState","_ref4","layout","colorWeak","onLanguageChange","document","addEventListener","passive","removeEventListener","changeSetting","nextState","contentWidth","splitMenus","dom","querySelector","dataset","prosettingdrawer","filter","_dom","logo","pwa","current","urlSearchParams","URLSearchParams","search","params","fromEntries","entries","diffParams","baseClassName","visible","width","closable","onClose","placement","handler","onClick","fontSize","zIndex","defaultMessage","list","item","configType","Fragment","split","renderItem","dataSource","action","size","checked","type","message","icon","showIcon","block","_callee2","_callee2$","_context2","navigator","clipboard","writeText","success","t0"],"mappings":"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","sourcesContent":["import \"antd/es/drawer/style\";\nimport _Drawer from \"antd/es/drawer\";\nimport \"antd/es/button/style\";\nimport _Button from \"antd/es/button\";\nimport \"antd/es/message/style\";\nimport _message from \"antd/es/message\";\nimport \"antd/es/alert/style\";\nimport _Alert from \"antd/es/alert\";\nimport \"antd/es/list/style\";\nimport _List from \"antd/es/list\";\nimport \"antd/es/switch/style\";\nimport _Switch from \"antd/es/switch\";\nimport \"antd/es/divider/style\";\nimport _Divider from \"antd/es/divider\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { CloseOutlined, CopyOutlined, NotificationOutlined, SettingOutlined } from '@ant-design/icons';\nimport { isBrowser, merge } from '@ant-design/pro-utils';\nimport { disable as darkreaderDisable, enable as darkreaderEnable, setFetchMethod as setFetch } from '@umijs/ssr-darkreader';\nimport { useUrlSearchParams } from '@umijs/use-params';\nimport omit from 'omit.js';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport React, { useEffect, useRef, useState } from 'react';\nimport defaultSettings from '../../defaultSettings';\nimport { getLanguage, gLocaleObject } from '../../locales';\nimport { genStringToTheme } from '../../utils/utils';\nimport BlockCheckbox from './BlockCheckbox';\nimport './index.less';\nimport LayoutSetting, { renderLayoutSettingItem } from './LayoutChange';\nimport RegionalSetting from './RegionalChange';\nimport ThemeColor from './ThemeColor';\n\nvar Body = function Body(_ref) {\n  var children = _ref.children,\n      prefixCls = _ref.prefixCls,\n      title = _ref.title;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginBottom: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"\".concat(prefixCls, \"-drawer-title\")\n  }, title), children);\n};\n\nvar getDifferentSetting = function getDifferentSetting(state) {\n  var stateObj = {};\n  Object.keys(state).forEach(function (key) {\n    if (state[key] !== defaultSettings[key] && key !== 'collapse') {\n      stateObj[key] = state[key];\n    } else {\n      stateObj[key] = undefined;\n    }\n\n    if (key.includes('Render')) stateObj[key] = state[key] === false ? false : undefined;\n  });\n  stateObj.menu = undefined;\n  return stateObj;\n};\n\nexport var getFormatMessage = function getFormatMessage() {\n  var formatMessage = function formatMessage(_ref2) {\n    var id = _ref2.id;\n    var locales = gLocaleObject();\n    return locales[id];\n  };\n\n  return formatMessage;\n};\n\nvar updateTheme = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(dark, color) {\n    var defaultTheme, defaultFixes;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(typeof window === 'undefined')) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 2:\n            if (!(typeof window.MutationObserver === 'undefined')) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 4:\n            if (_ConfigProvider.config) {\n              _context.next = 6;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 6:\n            _ConfigProvider.config({\n              theme: {\n                primaryColor: genStringToTheme(color) || '#1890ff'\n              }\n            });\n\n            if (dark) {\n              defaultTheme = {\n                brightness: 100,\n                contrast: 90,\n                sepia: 10\n              };\n              defaultFixes = {\n                invert: [],\n                css: '',\n                ignoreInlineStyle: ['.react-switch-handle'],\n                ignoreImageAnalysis: [],\n                disableStyleSheetsProxy: true\n              };\n\n              if (window.MutationObserver && window.fetch) {\n                setFetch(window.fetch);\n                darkreaderEnable(defaultTheme, defaultFixes);\n              }\n            } else {\n              if (window.MutationObserver) darkreaderDisable();\n            }\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function updateTheme(_x, _x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n/**\n * 初始化的时候需要做的工作\n *\n * @param param0\n */\n\n\nvar initState = function initState(urlParams, settings, onSettingChange) {\n  if (!isBrowser()) return;\n  var replaceSetting = {};\n  Object.keys(urlParams).forEach(function (key) {\n    if (defaultSettings[key] || defaultSettings[key] === undefined) {\n      if (key === 'primaryColor') {\n        replaceSetting[key] = genStringToTheme(urlParams[key]);\n        return;\n      }\n\n      replaceSetting[key] = urlParams[key];\n    }\n  });\n  var newSettings = merge({}, settings, replaceSetting);\n  delete newSettings.menu;\n  delete newSettings.title;\n  delete newSettings.iconfontUrl; // 同步数据到外部\n\n  onSettingChange === null || onSettingChange === void 0 ? void 0 : onSettingChange(newSettings); // 如果 url 中设置主题，进行一次加载。\n\n  if (defaultSettings.navTheme !== urlParams.navTheme && urlParams.navTheme) {\n    updateTheme(settings.navTheme === 'realDark', urlParams.primaryColor);\n  }\n};\n\nvar getParamsFromUrl = function getParamsFromUrl(urlParams, settings) {\n  if (!isBrowser()) return defaultSettings;\n  return _objectSpread(_objectSpread(_objectSpread({}, defaultSettings), settings || {}), urlParams);\n};\n\nvar genCopySettingJson = function genCopySettingJson(settingState) {\n  return JSON.stringify(omit(_objectSpread(_objectSpread({}, settingState), {}, {\n    primaryColor: settingState.primaryColor\n  }), ['colorWeak']), null, 2);\n};\n/**\n * 可视化配置组件\n *\n * @param props\n */\n\n\nvar SettingDrawer = function SettingDrawer(props) {\n  var _props$defaultSetting = props.defaultSettings,\n      propsDefaultSettings = _props$defaultSetting === void 0 ? undefined : _props$defaultSetting,\n      _props$settings = props.settings,\n      propsSettings = _props$settings === void 0 ? undefined : _props$settings,\n      hideHintAlert = props.hideHintAlert,\n      hideCopyButton = props.hideCopyButton,\n      _props$colorList = props.colorList,\n      colorList = _props$colorList === void 0 ? [{\n    key: 'daybreak',\n    color: '#1890ff'\n  }, {\n    key: 'dust',\n    color: '#F5222D'\n  }, {\n    key: 'volcano',\n    color: '#FA541C'\n  }, {\n    key: 'sunset',\n    color: '#FAAD14'\n  }, {\n    key: 'cyan',\n    color: '#13C2C2'\n  }, {\n    key: 'green',\n    color: '#52C41A'\n  }, {\n    key: 'geekblue',\n    color: '#2F54EB'\n  }, {\n    key: 'purple',\n    color: '#722ED1'\n  }] : _props$colorList,\n      getContainer = props.getContainer,\n      onSettingChange = props.onSettingChange,\n      enableDarkTheme = props.enableDarkTheme,\n      _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'ant-pro' : _props$prefixCls,\n      _props$pathname = props.pathname,\n      pathname = _props$pathname === void 0 ? window.location.pathname : _props$pathname,\n      _props$disableUrlPara = props.disableUrlParams,\n      disableUrlParams = _props$disableUrlPara === void 0 ? true : _props$disableUrlPara,\n      themeOnly = props.themeOnly;\n  var firstRender = useRef(true);\n\n  var _useMergedState = useMergedState(false, {\n    value: props.collapse,\n    onChange: props.onCollapseChange\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      show = _useMergedState2[0],\n      setShow = _useMergedState2[1];\n\n  var _useState = useState(getLanguage()),\n      _useState2 = _slicedToArray(_useState, 2),\n      language = _useState2[0],\n      setLanguage = _useState2[1];\n\n  var _useUrlSearchParams = useUrlSearchParams({}, {\n    disabled: disableUrlParams\n  }),\n      _useUrlSearchParams2 = _slicedToArray(_useUrlSearchParams, 2),\n      urlParams = _useUrlSearchParams2[0],\n      setUrlParams = _useUrlSearchParams2[1];\n\n  var _useMergedState3 = useMergedState(function () {\n    return getParamsFromUrl(urlParams, propsSettings || propsDefaultSettings);\n  }, {\n    value: propsSettings,\n    onChange: onSettingChange\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      settingState = _useMergedState4[0],\n      setSettingState = _useMergedState4[1];\n\n  var _ref4 = settingState || {},\n      navTheme = _ref4.navTheme,\n      primaryColor = _ref4.primaryColor,\n      layout = _ref4.layout,\n      colorWeak = _ref4.colorWeak;\n\n  useEffect(function () {\n    // 语言修改，这个是和 locale 是配置起来的\n    var onLanguageChange = function onLanguageChange() {\n      if (language !== getLanguage()) {\n        setLanguage(getLanguage());\n      }\n    };\n    /** 如果不是浏览器 都没有必要做了 */\n\n\n    if (!isBrowser()) return function () {\n      return null;\n    };\n    initState(getParamsFromUrl(urlParams, propsSettings), settingState, setSettingState);\n    window.document.addEventListener('languagechange', onLanguageChange, {\n      passive: true\n    });\n    return function () {\n      return window.document.removeEventListener('languagechange', onLanguageChange);\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(function () {\n    updateTheme(settingState.navTheme === 'realDark', settingState.primaryColor);\n  }, [settingState.primaryColor, settingState.navTheme]);\n  /**\n   * 修改设置\n   *\n   * @param key\n   * @param value\n   */\n\n  var changeSetting = function changeSetting(key, value) {\n    var nextState = {};\n    nextState[key] = value;\n\n    if (key === 'layout') {\n      nextState.contentWidth = value === 'top' ? 'Fixed' : 'Fluid';\n    }\n\n    if (key === 'layout' && value !== 'mix') {\n      nextState.splitMenus = false;\n    }\n\n    if (key === 'layout' && value === 'mix') {\n      nextState.navTheme = 'light';\n    }\n\n    if (key === 'colorWeak' && value === true) {\n      var dom = document.querySelector('body');\n\n      if (dom) {\n        dom.dataset.prosettingdrawer = dom.style.filter;\n        dom.style.filter = 'invert(80%)';\n      }\n    }\n\n    if (key === 'colorWeak' && value === false) {\n      var _dom = document.querySelector('body');\n\n      if (_dom) {\n        _dom.style.filter = _dom.dataset.prosettingdrawer || 'none';\n        delete _dom.dataset.prosettingdrawer;\n      }\n    }\n\n    delete nextState.menu;\n    delete nextState.title;\n    delete nextState.iconfontUrl;\n    delete nextState.logo;\n    delete nextState.pwa;\n    setSettingState(_objectSpread(_objectSpread({}, settingState), nextState));\n  };\n\n  var formatMessage = getFormatMessage();\n  useEffect(function () {\n    /** 如果不是浏览器 都没有必要做了 */\n    if (!isBrowser()) return;\n    if (disableUrlParams) return;\n\n    if (firstRender.current) {\n      firstRender.current = false;\n      return;\n    }\n    /** 每次从url拿最新的防止记忆 */\n\n\n    var urlSearchParams = new URLSearchParams(window.location.search);\n    var params = Object.fromEntries(urlSearchParams.entries());\n    var diffParams = getDifferentSetting(_objectSpread(_objectSpread({}, params), settingState));\n    delete diffParams.logo;\n    delete diffParams.menu;\n    delete diffParams.title;\n    delete diffParams.iconfontUrl;\n    delete diffParams.pwa;\n    setUrlParams(diffParams);\n  }, [setUrlParams, settingState, urlParams, pathname, disableUrlParams]);\n  var baseClassName = \"\".concat(prefixCls, \"-setting\");\n  return /*#__PURE__*/React.createElement(_Drawer, {\n    visible: show,\n    width: 300,\n    closable: false,\n    onClose: function onClose() {\n      return setShow(false);\n    },\n    placement: \"right\",\n    getContainer: getContainer,\n    handler: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(baseClassName, \"-drawer-handle\"),\n      onClick: function onClick() {\n        return setShow(!show);\n      }\n    }, show ? /*#__PURE__*/React.createElement(CloseOutlined, {\n      style: {\n        color: '#fff',\n        fontSize: 20\n      }\n    }) : /*#__PURE__*/React.createElement(SettingOutlined, {\n      style: {\n        color: '#fff',\n        fontSize: 20\n      }\n    })),\n    style: {\n      zIndex: 999\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-drawer-content\")\n  }, /*#__PURE__*/React.createElement(Body, {\n    title: formatMessage({\n      id: 'app.setting.pagestyle',\n      defaultMessage: 'Page style setting'\n    }),\n    prefixCls: baseClassName\n  }, /*#__PURE__*/React.createElement(BlockCheckbox, {\n    prefixCls: baseClassName,\n    list: [{\n      key: 'light',\n      title: formatMessage({\n        id: 'app.setting.pagestyle.light',\n        defaultMessage: '亮色菜单风格'\n      })\n    }, {\n      key: 'dark',\n      title: formatMessage({\n        id: 'app.setting.pagestyle.dark',\n        defaultMessage: '暗色菜单风格'\n      })\n    }, {\n      key: 'realDark',\n      title: formatMessage({\n        id: 'app.setting.pagestyle.realdark',\n        defaultMessage: '暗色菜单风格'\n      })\n    }].filter(function (item) {\n      if (item.key === 'dark' && settingState.layout === 'mix') return false;\n      if (item.key === 'realDark' && !enableDarkTheme) return false;\n      return true;\n    }),\n    value: navTheme,\n    configType: \"theme\",\n    key: \"navTheme\",\n    onChange: function onChange(value) {\n      return changeSetting('navTheme', value);\n    }\n  })), colorList !== false && /*#__PURE__*/React.createElement(Body, {\n    title: formatMessage({\n      id: 'app.setting.themecolor',\n      defaultMessage: 'Theme color'\n    }),\n    prefixCls: baseClassName\n  }, /*#__PURE__*/React.createElement(ThemeColor, {\n    colorList: colorList,\n    value: genStringToTheme(primaryColor),\n    formatMessage: formatMessage,\n    onChange: function onChange(color) {\n      return changeSetting('primaryColor', color);\n    }\n  })), !themeOnly && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(_Divider, null), /*#__PURE__*/React.createElement(Body, {\n    prefixCls: baseClassName,\n    title: formatMessage({\n      id: 'app.setting.navigationmode'\n    })\n  }, /*#__PURE__*/React.createElement(BlockCheckbox, {\n    prefixCls: baseClassName,\n    value: layout,\n    key: \"layout\",\n    configType: \"layout\",\n    list: [{\n      key: 'side',\n      title: formatMessage({\n        id: 'app.setting.sidemenu'\n      })\n    }, {\n      key: 'top',\n      title: formatMessage({\n        id: 'app.setting.topmenu'\n      })\n    }, {\n      key: 'mix',\n      title: formatMessage({\n        id: 'app.setting.mixmenu'\n      })\n    }],\n    onChange: function onChange(value) {\n      return changeSetting('layout', value);\n    }\n  })), /*#__PURE__*/React.createElement(LayoutSetting, {\n    settings: settingState,\n    changeSetting: changeSetting\n  }), /*#__PURE__*/React.createElement(_Divider, null), /*#__PURE__*/React.createElement(Body, {\n    prefixCls: baseClassName,\n    title: formatMessage({\n      id: 'app.setting.regionalsettings'\n    })\n  }, /*#__PURE__*/React.createElement(RegionalSetting, {\n    settings: settingState,\n    changeSetting: changeSetting\n  })), /*#__PURE__*/React.createElement(_Divider, null), /*#__PURE__*/React.createElement(Body, {\n    prefixCls: baseClassName,\n    title: formatMessage({\n      id: 'app.setting.othersettings'\n    })\n  }, /*#__PURE__*/React.createElement(_List, {\n    split: false,\n    renderItem: renderLayoutSettingItem,\n    dataSource: [{\n      title: formatMessage({\n        id: 'app.setting.weakmode'\n      }),\n      action: /*#__PURE__*/React.createElement(_Switch, {\n        size: \"small\",\n        className: \"color-weak\",\n        checked: !!colorWeak,\n        onChange: function onChange(checked) {\n          changeSetting('colorWeak', checked);\n        }\n      })\n    }]\n  })), hideHintAlert && hideCopyButton ? null : /*#__PURE__*/React.createElement(_Divider, null), hideHintAlert ? null : /*#__PURE__*/React.createElement(_Alert, {\n    type: \"warning\",\n    message: formatMessage({\n      id: 'app.setting.production.hint'\n    }),\n    icon: /*#__PURE__*/React.createElement(NotificationOutlined, null),\n    showIcon: true,\n    style: {\n      marginBottom: 16\n    }\n  }), hideCopyButton ? null : /*#__PURE__*/React.createElement(_Button, {\n    block: true,\n    icon: /*#__PURE__*/React.createElement(CopyOutlined, null),\n    style: {\n      marginBottom: 24\n    },\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return navigator.clipboard.writeText(genCopySettingJson(settingState));\n\n            case 3:\n              _message.success(formatMessage({\n                id: 'app.setting.copyinfo'\n              }));\n\n              _context2.next = 8;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }))\n  }, formatMessage({\n    id: 'app.setting.copy'\n  })))));\n};\n\nexport default SettingDrawer;"]},"metadata":{},"sourceType":"module"}