{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport \"antd/es/space/style\";\nimport _Space from \"antd/es/space\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nvar _excluded = [\"children\"],\n    _excluded2 = [\"children\"];\nimport { genCopyable, isDeepEqualReact, isNil, LabelIconTip } from '@ant-design/pro-utils';\nimport get from \"rc-util/es/utils/get\";\nimport React from 'react';\nimport { isMergeCell } from '.';\nimport cellRenderToFromItem from './cellRenderToFromItem';\n/**\n * 增加了 icon 的功能 render title\n *\n * @param item\n */\n\nexport var renderColumnsTitle = function renderColumnsTitle(item) {\n  var title = item.title;\n\n  if (title && typeof title === 'function') {\n    return title(item, 'table', /*#__PURE__*/React.createElement(LabelIconTip, {\n      label: null,\n      tooltip: item.tooltip || item.tip\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(LabelIconTip, {\n    label: title,\n    tooltip: item.tooltip || item.tip,\n    ellipsis: item.ellipsis\n  });\n};\n/** 判断可不可编辑 */\n\nfunction isEditableCell(text, rowData, index, editable) {\n  if (typeof editable === 'boolean') {\n    return editable === false;\n  }\n\n  return (editable === null || editable === void 0 ? void 0 : editable(text, rowData, index)) === false;\n}\n/**\n * 默认的 filter 方法\n *\n * @param value\n * @param record\n * @param dataIndex\n * @returns\n */\n\n\nexport var defaultOnFilter = function defaultOnFilter(value, record, dataIndex) {\n  var recordElement = Array.isArray(dataIndex) ? get(record, dataIndex) : record[dataIndex];\n  var itemValue = String(recordElement);\n  return String(itemValue) === String(value);\n};\n\nvar OptionsCell = /*#__PURE__*/function (_React$Component) {\n  _inherits(OptionsCell, _React$Component);\n\n  var _super = _createSuper(OptionsCell);\n\n  function OptionsCell() {\n    _classCallCheck(this, OptionsCell);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(OptionsCell, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var _this$props = this.props,\n          children = _this$props.children,\n          restProps = _objectWithoutProperties(_this$props, _excluded);\n\n      var nextChildren = nextProps.children,\n          restNextProps = _objectWithoutProperties(nextProps, _excluded2);\n\n      return !isDeepEqualReact(restProps, restNextProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(_Space, null, this.props.children(this.props.form));\n    }\n  }]);\n\n  return OptionsCell;\n}(React.Component);\n/**\n * 这个组件负责单元格的具体渲染\n *\n * @param param0\n */\n\n\nexport function columnRender(_ref) {\n  var columnProps = _ref.columnProps,\n      text = _ref.text,\n      rowData = _ref.rowData,\n      index = _ref.index,\n      columnEmptyText = _ref.columnEmptyText,\n      counter = _ref.counter,\n      type = _ref.type,\n      subName = _ref.subName,\n      editableUtils = _ref.editableUtils;\n  var action = counter.action,\n      prefixName = counter.prefixName,\n      editableForm = counter.editableForm;\n\n  var _editableUtils$isEdit = editableUtils.isEditable(_objectSpread(_objectSpread({}, rowData), {}, {\n    index: index\n  })),\n      isEditable = _editableUtils$isEdit.isEditable,\n      recordKey = _editableUtils$isEdit.recordKey;\n\n  var _columnProps$renderTe = columnProps.renderText,\n      renderText = _columnProps$renderTe === void 0 ? function (val) {\n    return val;\n  } : _columnProps$renderTe;\n  var renderTextStr = renderText(text, rowData, index, action);\n  var mode = isEditable && !isEditableCell(text, rowData, index, columnProps === null || columnProps === void 0 ? void 0 : columnProps.editable) ? 'edit' : 'read';\n  var textDom = cellRenderToFromItem({\n    text: renderTextStr,\n    valueType: columnProps.valueType || 'text',\n    index: index,\n    rowData: rowData,\n    subName: subName,\n    columnProps: _objectSpread(_objectSpread({}, columnProps), {}, {\n      // 为了兼容性，原来写了个错别字\n      // @ts-ignore\n      entry: rowData,\n      entity: rowData\n    }),\n    counter: counter,\n    columnEmptyText: columnEmptyText,\n    type: type,\n    recordKey: recordKey,\n    mode: mode,\n    prefixName: prefixName,\n    editableUtils: editableUtils\n  });\n  var dom = mode === 'edit' ? textDom : genCopyable(textDom, columnProps, renderTextStr);\n  /** 如果是编辑模式，并且 renderFormItem 存在直接走 renderFormItem */\n\n  if (mode === 'edit') {\n    if (columnProps.valueType === 'option') {\n      return /*#__PURE__*/React.createElement(OptionsCell, {\n        record: rowData,\n        form: editableForm\n      }, function (inform) {\n        return editableUtils.actionRender(_objectSpread(_objectSpread({}, rowData), {}, {\n          index: columnProps.index || index\n        }), inform);\n      });\n    }\n\n    return dom;\n  }\n\n  if (!columnProps.render) {\n    var isReactRenderNode = /*#__PURE__*/React.isValidElement(dom) || ['string', 'number'].includes(_typeof(dom));\n    return !isNil(dom) && isReactRenderNode ? dom : null;\n  }\n\n  var renderDom = columnProps.render(dom, rowData, index, _objectSpread(_objectSpread({}, action), editableUtils), _objectSpread(_objectSpread({}, columnProps), {}, {\n    isEditable: isEditable,\n    type: 'table'\n  })); // 如果是合并单元格的，直接返回对象\n\n  if (isMergeCell(renderDom)) {\n    return renderDom;\n  }\n\n  if (renderDom && columnProps.valueType === 'option' && Array.isArray(renderDom)) {\n    return /*#__PURE__*/React.createElement(_Space, {\n      size: 16\n    }, renderDom);\n  }\n\n  return renderDom;\n}","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-table/es/utils/columnRender.js"],"names":["_typeof","_objectSpread","_Space","_objectWithoutProperties","_classCallCheck","_createClass","_inherits","_createSuper","_excluded","_excluded2","genCopyable","isDeepEqualReact","isNil","LabelIconTip","get","React","isMergeCell","cellRenderToFromItem","renderColumnsTitle","item","title","createElement","label","tooltip","tip","ellipsis","isEditableCell","text","rowData","index","editable","defaultOnFilter","value","record","dataIndex","recordElement","Array","isArray","itemValue","String","OptionsCell","_React$Component","_super","apply","arguments","key","shouldComponentUpdate","nextProps","_this$props","props","children","restProps","nextChildren","restNextProps","render","form","Component","columnRender","_ref","columnProps","columnEmptyText","counter","type","subName","editableUtils","action","prefixName","editableForm","_editableUtils$isEdit","isEditable","recordKey","_columnProps$renderTe","renderText","val","renderTextStr","mode","textDom","valueType","entry","entity","dom","inform","actionRender","isReactRenderNode","isValidElement","includes","renderDom","size"],"mappings":"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","sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport \"antd/es/space/style\";\nimport _Space from \"antd/es/space\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nvar _excluded = [\"children\"],\n    _excluded2 = [\"children\"];\nimport { genCopyable, isDeepEqualReact, isNil, LabelIconTip } from '@ant-design/pro-utils';\nimport get from \"rc-util/es/utils/get\";\nimport React from 'react';\nimport { isMergeCell } from '.';\nimport cellRenderToFromItem from './cellRenderToFromItem';\n/**\n * 增加了 icon 的功能 render title\n *\n * @param item\n */\n\nexport var renderColumnsTitle = function renderColumnsTitle(item) {\n  var title = item.title;\n\n  if (title && typeof title === 'function') {\n    return title(item, 'table', /*#__PURE__*/React.createElement(LabelIconTip, {\n      label: null,\n      tooltip: item.tooltip || item.tip\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(LabelIconTip, {\n    label: title,\n    tooltip: item.tooltip || item.tip,\n    ellipsis: item.ellipsis\n  });\n};\n/** 判断可不可编辑 */\n\nfunction isEditableCell(text, rowData, index, editable) {\n  if (typeof editable === 'boolean') {\n    return editable === false;\n  }\n\n  return (editable === null || editable === void 0 ? void 0 : editable(text, rowData, index)) === false;\n}\n/**\n * 默认的 filter 方法\n *\n * @param value\n * @param record\n * @param dataIndex\n * @returns\n */\n\n\nexport var defaultOnFilter = function defaultOnFilter(value, record, dataIndex) {\n  var recordElement = Array.isArray(dataIndex) ? get(record, dataIndex) : record[dataIndex];\n  var itemValue = String(recordElement);\n  return String(itemValue) === String(value);\n};\n\nvar OptionsCell = /*#__PURE__*/function (_React$Component) {\n  _inherits(OptionsCell, _React$Component);\n\n  var _super = _createSuper(OptionsCell);\n\n  function OptionsCell() {\n    _classCallCheck(this, OptionsCell);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(OptionsCell, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      var _this$props = this.props,\n          children = _this$props.children,\n          restProps = _objectWithoutProperties(_this$props, _excluded);\n\n      var nextChildren = nextProps.children,\n          restNextProps = _objectWithoutProperties(nextProps, _excluded2);\n\n      return !isDeepEqualReact(restProps, restNextProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(_Space, null, this.props.children(this.props.form));\n    }\n  }]);\n\n  return OptionsCell;\n}(React.Component);\n/**\n * 这个组件负责单元格的具体渲染\n *\n * @param param0\n */\n\n\nexport function columnRender(_ref) {\n  var columnProps = _ref.columnProps,\n      text = _ref.text,\n      rowData = _ref.rowData,\n      index = _ref.index,\n      columnEmptyText = _ref.columnEmptyText,\n      counter = _ref.counter,\n      type = _ref.type,\n      subName = _ref.subName,\n      editableUtils = _ref.editableUtils;\n  var action = counter.action,\n      prefixName = counter.prefixName,\n      editableForm = counter.editableForm;\n\n  var _editableUtils$isEdit = editableUtils.isEditable(_objectSpread(_objectSpread({}, rowData), {}, {\n    index: index\n  })),\n      isEditable = _editableUtils$isEdit.isEditable,\n      recordKey = _editableUtils$isEdit.recordKey;\n\n  var _columnProps$renderTe = columnProps.renderText,\n      renderText = _columnProps$renderTe === void 0 ? function (val) {\n    return val;\n  } : _columnProps$renderTe;\n  var renderTextStr = renderText(text, rowData, index, action);\n  var mode = isEditable && !isEditableCell(text, rowData, index, columnProps === null || columnProps === void 0 ? void 0 : columnProps.editable) ? 'edit' : 'read';\n  var textDom = cellRenderToFromItem({\n    text: renderTextStr,\n    valueType: columnProps.valueType || 'text',\n    index: index,\n    rowData: rowData,\n    subName: subName,\n    columnProps: _objectSpread(_objectSpread({}, columnProps), {}, {\n      // 为了兼容性，原来写了个错别字\n      // @ts-ignore\n      entry: rowData,\n      entity: rowData\n    }),\n    counter: counter,\n    columnEmptyText: columnEmptyText,\n    type: type,\n    recordKey: recordKey,\n    mode: mode,\n    prefixName: prefixName,\n    editableUtils: editableUtils\n  });\n  var dom = mode === 'edit' ? textDom : genCopyable(textDom, columnProps, renderTextStr);\n  /** 如果是编辑模式，并且 renderFormItem 存在直接走 renderFormItem */\n\n  if (mode === 'edit') {\n    if (columnProps.valueType === 'option') {\n      return /*#__PURE__*/React.createElement(OptionsCell, {\n        record: rowData,\n        form: editableForm\n      }, function (inform) {\n        return editableUtils.actionRender(_objectSpread(_objectSpread({}, rowData), {}, {\n          index: columnProps.index || index\n        }), inform);\n      });\n    }\n\n    return dom;\n  }\n\n  if (!columnProps.render) {\n    var isReactRenderNode = /*#__PURE__*/React.isValidElement(dom) || ['string', 'number'].includes(_typeof(dom));\n    return !isNil(dom) && isReactRenderNode ? dom : null;\n  }\n\n  var renderDom = columnProps.render(dom, rowData, index, _objectSpread(_objectSpread({}, action), editableUtils), _objectSpread(_objectSpread({}, columnProps), {}, {\n    isEditable: isEditable,\n    type: 'table'\n  })); // 如果是合并单元格的，直接返回对象\n\n  if (isMergeCell(renderDom)) {\n    return renderDom;\n  }\n\n  if (renderDom && columnProps.valueType === 'option' && Array.isArray(renderDom)) {\n    return /*#__PURE__*/React.createElement(_Space, {\n      size: 16\n    }, renderDom);\n  }\n\n  return renderDom;\n}"]},"metadata":{},"sourceType":"module"}