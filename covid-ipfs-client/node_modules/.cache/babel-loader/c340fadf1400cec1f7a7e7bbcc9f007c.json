{"ast":null,"code":"import _asyncToGenerator from\"/Users/jameszow/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/jameszow/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{Button,Result,notification}from'antd';import'./App.css';import{ProCard,ProFormCheckbox,ProFormDatePicker,ProFormSelect,ProFormText,ProFormTextArea,ProFormRadio,ProFormDigit,StepsForm}from'@ant-design/pro-components';import axios from'axios';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var waitTime=function waitTime(){var time=arguments.length>0&&arguments[0]!==undefined?arguments[0]:100;return new Promise(function(resolve){setTimeout(function(){resolve(true);},time);});};var openNotificationWithIcon=function openNotificationWithIcon(type,content){notification[type]({message:'消息通知',description:content});};var App=function App(){return/*#__PURE__*/_jsx(ProCard,{children:/*#__PURE__*/_jsxs(StepsForm,{onFinish:/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(values){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(values);// axios request api\naxios({url:'http://101.43.52.162:8082/nucleic/save',headers:{'Content-Type':'application/json'},data:values,method:'post'}).then(function(res){return openNotificationWithIcon('success','核酸结果hash: '+res.data.data);}).catch(function(err){return openNotificationWithIcon('error','核酸结果保存失败');});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}(),formProps:{validateMessages:{required:'此项为必填项'}},submitter:{render:function render(props){if(props.step===0){return/*#__PURE__*/_jsxs(Button,{type:\"primary\",onClick:function onClick(){var _props$onSubmit;return(_props$onSubmit=props.onSubmit)===null||_props$onSubmit===void 0?void 0:_props$onSubmit.call(props);},children:[\"\\u4E0B\\u4E00\\u6B65 \",'>']});}if(props.step===1){return[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){var _props$onPre;return(_props$onPre=props.onPre)===null||_props$onPre===void 0?void 0:_props$onPre.call(props);},children:\"\\u8FD4\\u56DE\\u4E0A\\u4E00\\u6B65\"},\"pre\"),/*#__PURE__*/_jsxs(Button,{type:\"primary\",onClick:function onClick(){var _props$onSubmit2;return(_props$onSubmit2=props.onSubmit)===null||_props$onSubmit2===void 0?void 0:_props$onSubmit2.call(props);},children:[\"\\u4E0B\\u4E00\\u6B65 \",'>']},\"goToTree\")];}return[/*#__PURE__*/_jsxs(Button,{onClick:function onClick(){var _props$onPre2;return(_props$onPre2=props.onPre)===null||_props$onPre2===void 0?void 0:_props$onPre2.call(props);},children:['<',\" \\u8FD4\\u56DE\\u4E0A\\u4E00\\u6B65\"]},\"gotoTwo\"),/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:function onClick(){var _props$onSubmit3;return(_props$onSubmit3=props.onSubmit)===null||_props$onSubmit3===void 0?void 0:_props$onSubmit3.call(props);},children:\"\\u63D0\\u4EA4 \\u221A\"},\"goToTree\")];}},children:[/*#__PURE__*/_jsxs(StepsForm.StepForm,{name:\"base\",title:\"\\u521B\\u5EFA\\u7528\\u6237\\u4FE1\\u606F\",onFinish:/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref2){var name;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:name=_ref2.name;console.log(name);// await waitTime(2000);\nreturn _context2.abrupt(\"return\",true);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}(),children:[/*#__PURE__*/_jsx(ProFormText,{id:\"name\",name:\"name\",label:\"\\u7528\\u6237\\u540D\",width:\"md\",tooltip:\"\\u7528\\u6237\\u7684\\u59D3\\u540D\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u59D3\\u540D\",rules:[{required:true}]}),/*#__PURE__*/_jsx(ProFormRadio.Group,{id:\"sex\",name:\"sex\",label:\"\\u6027\\u522B\",options:[{label:'男',value:1},{label:'女',value:0}],rules:[{required:true}]}),/*#__PURE__*/_jsx(ProFormDigit,{id:\"phone\",name:\"phone\",label:\"\\u7535\\u8BDD\",width:\"md\",rules:[{required:true}]}),/*#__PURE__*/_jsx(ProFormTextArea,{id:\"address\",name:\"address\",label:\"\\u4F4F\\u5740\",width:\"md\",placeholder:\"\\u8BF7\\u8F93\\u5165\\u5C45\\u4F4F\\u5730, xxx\\u7701xxx\\u5E02xxx\\u8857\\u9053xxx\\u8DEF\",rules:[{required:true}]}),/*#__PURE__*/_jsx(ProFormDatePicker,{id:\"date\",name:\"date\",label:\"\\u65E5\\u671F\",rules:[{required:true}]})]}),/*#__PURE__*/_jsxs(StepsForm.StepForm,{name:\"checkbox\",title:\"\\u586B\\u5199\\u6838\\u9178\\u4FE1\\u606F\",children:[/*#__PURE__*/_jsx(ProFormCheckbox.Group,{name:\"checkbox\",label:\"\\u6838\\u9178\\u673A\\u6784\\u540D\\u79F0\",width:\"lg\",options:['上海市第十人民医院','上海中检医学检验所（气膜）','上海锦测医学检验所（气膜）','上海华测艾普医学检验所','河南省卫健委2舱','湖州市城市核酸检测基地','浙江医疗队迪安气膜实验室']}),/*#__PURE__*/_jsx(ProFormSelect,{id:\"result\",label:\"\\u6838\\u9178\\u7C7B\\u578B\",name:\"result\",rules:[{required:true}],initialValue:\"\\u8BF7\\u9009\\u62E9\",options:[{value:'NEGATIVE',label:'阴性'},{value:'POSITIVE',label:'阳性'}]}),/*#__PURE__*/_jsx(ProFormTextArea,{name:\"remake\",label:\"\\u5907\\u6CE8\",width:\"xl\",placeholder:\"\\u68C0\\u9A8C\\u7ED3\\u679C\\u5177\\u4F53\\u4FE1\\u606F\"})]}),/*#__PURE__*/_jsx(StepsForm.StepForm,{name:\"time\",title:\"\\u53D1\\u5E03\\u6838\\u9178\\u7ED3\\u679C\",children:/*#__PURE__*/_jsx(Result,{status:\"success\",title:\"\\u6838\\u9178\\u4FE1\\u606F\\u6536\\u96C6\\u5B8C\\u6210!\",subTitle:\"\\u59D3\\u540D: 2017182818828182881 Cloud server configuration takes 1-5 minutes, please wait.\"})})]})});};export default App;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/src/App.tsx"],"names":["React","Button","Result","notification","ProCard","ProFormCheckbox","ProFormDatePicker","ProFormSelect","ProFormText","ProFormTextArea","ProFormRadio","ProFormDigit","StepsForm","axios","waitTime","time","Promise","resolve","setTimeout","openNotificationWithIcon","type","content","message","description","App","values","console","log","url","headers","data","method","then","res","catch","err","validateMessages","required","render","props","step","onSubmit","onPre","name","label","value"],"mappings":"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","sourcesContent":["import React, { FC } from 'react';\nimport { Button, message, Result, notification, Space } from 'antd';\nimport './App.css';\nimport {\n  ProCard,\n  ProForm,\n  ProFormCheckbox,\n  ProFormDatePicker,\n  ProFormDateRangePicker,\n  ProFormSelect,\n  ProFormText,\n  ProFormTextArea,\n  ProFormRadio,\n  ProFormDigit,\n  StepsForm,\n} from '@ant-design/pro-components';\nimport axios from 'axios'\n\nconst waitTime = (time: number = 100) => {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(true);\n    }, time);\n  });\n};\n\ntype NotificationType = 'success' | 'info' | 'warning' | 'error';\nconst openNotificationWithIcon = (type: NotificationType, content: string) => {\n  notification[type]({\n    message: '消息通知',\n    description: content\n  });\n};\n\nconst App: FC = () => {\n  return (\n    <ProCard>\n      <StepsForm<{\n        name: string;\n      }>\n        onFinish={async (values) => {\n          console.log(values);\n\n          // axios request api\n          axios({\n            url:'http://101.43.52.162:8082/nucleic/save',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            data: values,\n            method:'post'\n            }).then(\n              res => openNotificationWithIcon('success', '核酸结果hash: ' + res.data.data)\n            ).catch(\n              err => openNotificationWithIcon('error', '核酸结果保存失败')\n            )\n        }}\n        formProps={{\n          validateMessages: {\n            required: '此项为必填项',\n          },\n        }}\n        submitter={{\n          render: (props) => {\n            if (props.step === 0) {\n              return (\n                <Button type=\"primary\" onClick={() => props.onSubmit?.()}>\n                  下一步 {'>'}\n                </Button>\n              );\n            }\n\n            if (props.step === 1) {\n              return [\n                <Button key=\"pre\" onClick={() => props.onPre?.()}>\n                  返回上一步\n                </Button>,\n                <Button type=\"primary\" key=\"goToTree\" onClick={() => props.onSubmit?.()}>\n                  下一步 {'>'}\n                </Button>,\n              ];\n            }\n\n            return [\n              <Button key=\"gotoTwo\" onClick={() => props.onPre?.()}>\n                {'<'} 返回上一步\n              </Button>,\n              <Button type=\"primary\" key=\"goToTree\" onClick={() => props.onSubmit?.()}>\n                提交 √\n              </Button>,\n            ];\n          },\n        }}\n      >\n        <StepsForm.StepForm<{\n          name: string;\n        }>\n          name=\"base\"\n          title=\"创建用户信息\"\n          onFinish={async ({ name }) => {\n            console.log(name);\n            // await waitTime(2000);\n            return true;\n          }}\n        >\n          <ProFormText\n            id=\"name\"\n            name=\"name\"\n            label=\"用户名\"\n            width=\"md\"\n            tooltip=\"用户的姓名\"\n            placeholder=\"请输入姓名\"\n            rules={[{ required: true }]}\n          />\n          <ProFormRadio.Group id=\"sex\" name=\"sex\" label=\"性别\"\n              options={[\n                {\n                  label: '男',\n                  value: 1,\n                },\n                {\n                  label: '女',\n                  value: 0,\n                }\n              ]} \n              rules={[{ required: true }]}\n          />\n          <ProFormDigit id=\"phone\" name=\"phone\" label=\"电话\"  width=\"md\" rules={[{ required: true }]}/>\n          <ProFormTextArea id=\"address\" name=\"address\" label=\"住址\" width=\"md\" placeholder=\"请输入居住地, xxx省xxx市xxx街道xxx路\" rules={[{ required: true }]}/>\n          <ProFormDatePicker id=\"date\" name=\"date\" label=\"日期\" rules={[{ required: true }]}/>\n        </StepsForm.StepForm>\n        <StepsForm.StepForm<{\n          checkbox: string;\n        }>\n          name=\"checkbox\"\n          title=\"填写核酸信息\"\n        >\n          <ProFormCheckbox.Group\n            name=\"checkbox\"\n            label=\"核酸机构名称\"\n            width=\"lg\"\n            options={['上海市第十人民医院', '上海中检医学检验所（气膜）', '上海锦测医学检验所（气膜）', \n            '上海华测艾普医学检验所', '河南省卫健委2舱', '湖州市城市核酸检测基地', '浙江医疗队迪安气膜实验室']}\n          />\n          <ProFormSelect\n            id = \"result\"\n            label=\"核酸类型\"\n            name=\"result\"\n            rules={[\n              {\n                required: true,\n              },\n            ]}\n            initialValue=\"请选择\"\n            options={[\n              { value: 'NEGATIVE', label: '阴性' },\n              { value: 'POSITIVE', label: '阳性' },\n            ]}\n          />\n          <ProFormTextArea name=\"remake\" label=\"备注\" width=\"xl\" placeholder=\"检验结果具体信息\"/>\n        </StepsForm.StepForm>\n        <StepsForm.StepForm name=\"time\" title=\"发布核酸结果\">\n        <Result\n            status=\"success\"\n            title=\"核酸信息收集完成!\"\n            subTitle=\"姓名: 2017182818828182881 Cloud server configuration takes 1-5 minutes, please wait.\"\n          />\n        </StepsForm.StepForm>\n      </StepsForm>\n    </ProCard>\n  );\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}