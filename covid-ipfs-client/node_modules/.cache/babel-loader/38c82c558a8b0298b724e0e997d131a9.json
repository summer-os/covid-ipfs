{"ast":null,"code":"import \"antd/es/date-picker/style\";\nimport _DatePicker from \"antd/es/date-picker\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport { useIntl } from '@ant-design/pro-provider';\nimport { FieldLabel, parseValueToMoment } from '@ant-design/pro-utils';\nimport moment from 'moment';\nimport React, { useContext, useState } from 'react';\nimport './index.less';\n/**\n * 日期选择组件\n *\n * @param\n */\n\nvar FieldDatePicker = function FieldDatePicker(_ref, ref) {\n  var text = _ref.text,\n      mode = _ref.mode,\n      format = _ref.format,\n      label = _ref.label,\n      light = _ref.light,\n      render = _ref.render,\n      renderFormItem = _ref.renderFormItem,\n      plain = _ref.plain,\n      showTime = _ref.showTime,\n      fieldProps = _ref.fieldProps,\n      picker = _ref.picker,\n      bordered = _ref.bordered,\n      lightLabel = _ref.lightLabel,\n      labelTrigger = _ref.labelTrigger;\n  var intl = useIntl();\n  var size = useContext(_ConfigProvider.SizeContext);\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-field-date-picker');\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  if (mode === 'read') {\n    var dom = text ? moment(text).format(fieldProps.format || format || 'YYYY-MM-DD') : '-';\n\n    if (render) {\n      return render(text, _objectSpread({\n        mode: mode\n      }, fieldProps), /*#__PURE__*/React.createElement(React.Fragment, null, dom));\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, dom);\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    var _dom;\n\n    var disabled = fieldProps.disabled,\n        value = fieldProps.value,\n        _onChange = fieldProps.onChange,\n        allowClear = fieldProps.allowClear,\n        _fieldProps$placehold = fieldProps.placeholder,\n        placeholder = _fieldProps$placehold === void 0 ? intl.getMessage('tableForm.selectPlaceholder', '请选择') : _fieldProps$placehold;\n    var momentValue = parseValueToMoment(value);\n\n    if (light) {\n      var valueStr = momentValue && momentValue.format(format) || '';\n      _dom = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-light\"),\n        onClick: function onClick(e) {\n          var _lightLabel$current, _lightLabel$current$l, _lightLabel$current$l2; // 点击label切换下拉菜单\n\n\n          var isLabelClick = lightLabel === null || lightLabel === void 0 ? void 0 : (_lightLabel$current = lightLabel.current) === null || _lightLabel$current === void 0 ? void 0 : (_lightLabel$current$l = _lightLabel$current.labelRef) === null || _lightLabel$current$l === void 0 ? void 0 : (_lightLabel$current$l2 = _lightLabel$current$l.current) === null || _lightLabel$current$l2 === void 0 ? void 0 : _lightLabel$current$l2.contains(e.target);\n\n          if (isLabelClick) {\n            setOpen(!open);\n          } else {\n            setOpen(true);\n          }\n        }\n      }, /*#__PURE__*/React.createElement(_DatePicker, _extends({\n        picker: picker,\n        showTime: showTime,\n        format: format,\n        ref: ref\n      }, fieldProps, {\n        value: momentValue,\n        onChange: function onChange(v) {\n          _onChange === null || _onChange === void 0 ? void 0 : _onChange(v);\n          setTimeout(function () {\n            setOpen(false);\n          }, 0);\n        },\n        onOpenChange: function onOpenChange(isOpen) {\n          if (!labelTrigger) {\n            setOpen(isOpen);\n          }\n        },\n        open: open\n      })), /*#__PURE__*/React.createElement(FieldLabel, {\n        label: label,\n        disabled: disabled,\n        placeholder: placeholder,\n        size: size,\n        value: valueStr,\n        onClear: function onClear() {\n          _onChange === null || _onChange === void 0 ? void 0 : _onChange(null);\n        },\n        allowClear: allowClear,\n        bordered: bordered,\n        expanded: open,\n        ref: lightLabel\n      }));\n    } else {\n      _dom = /*#__PURE__*/React.createElement(_DatePicker, _extends({\n        picker: picker,\n        showTime: showTime,\n        format: format,\n        placeholder: placeholder,\n        bordered: plain === undefined ? true : !plain,\n        ref: ref\n      }, fieldProps, {\n        value: momentValue\n      }));\n    }\n\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldDatePicker);","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-field/es/components/DatePicker/index.js"],"names":["_DatePicker","_extends","_objectSpread","_slicedToArray","_ConfigProvider","useIntl","FieldLabel","parseValueToMoment","moment","React","useContext","useState","FieldDatePicker","_ref","ref","text","mode","format","label","light","render","renderFormItem","plain","showTime","fieldProps","picker","bordered","lightLabel","labelTrigger","intl","size","SizeContext","_useContext","ConfigContext","getPrefixCls","prefixCls","_useState","_useState2","open","setOpen","dom","createElement","Fragment","_dom","disabled","value","_onChange","onChange","allowClear","_fieldProps$placehold","placeholder","getMessage","momentValue","valueStr","className","concat","onClick","e","_lightLabel$current","_lightLabel$current$l","_lightLabel$current$l2","isLabelClick","current","labelRef","contains","target","v","setTimeout","onOpenChange","isOpen","onClear","expanded","undefined","forwardRef"],"mappings":"AAAA,OAAO,2BAAP;AACA,OAAOA,WAAP,MAAwB,qBAAxB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAO,+BAAP;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,SAASC,OAAT,QAAwB,0BAAxB;AACA,SAASC,UAAT,EAAqBC,kBAArB,QAA+C,uBAA/C;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAO,cAAP;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,eAAe,GAAG,SAASA,eAAT,CAAyBC,IAAzB,EAA+BC,GAA/B,EAAoC;AACxD,MAAIC,IAAI,GAAGF,IAAI,CAACE,IAAhB;AAAA,MACIC,IAAI,GAAGH,IAAI,CAACG,IADhB;AAAA,MAEIC,MAAM,GAAGJ,IAAI,CAACI,MAFlB;AAAA,MAGIC,KAAK,GAAGL,IAAI,CAACK,KAHjB;AAAA,MAIIC,KAAK,GAAGN,IAAI,CAACM,KAJjB;AAAA,MAKIC,MAAM,GAAGP,IAAI,CAACO,MALlB;AAAA,MAMIC,cAAc,GAAGR,IAAI,CAACQ,cAN1B;AAAA,MAOIC,KAAK,GAAGT,IAAI,CAACS,KAPjB;AAAA,MAQIC,QAAQ,GAAGV,IAAI,CAACU,QARpB;AAAA,MASIC,UAAU,GAAGX,IAAI,CAACW,UATtB;AAAA,MAUIC,MAAM,GAAGZ,IAAI,CAACY,MAVlB;AAAA,MAWIC,QAAQ,GAAGb,IAAI,CAACa,QAXpB;AAAA,MAYIC,UAAU,GAAGd,IAAI,CAACc,UAZtB;AAAA,MAaIC,YAAY,GAAGf,IAAI,CAACe,YAbxB;AAcA,MAAIC,IAAI,GAAGxB,OAAO,EAAlB;AACA,MAAIyB,IAAI,GAAGpB,UAAU,CAACN,eAAe,CAAC2B,WAAjB,CAArB;;AAEA,MAAIC,WAAW,GAAGtB,UAAU,CAACN,eAAe,CAAC6B,aAAjB,CAA5B;AAAA,MACIC,YAAY,GAAGF,WAAW,CAACE,YAD/B;;AAGA,MAAIC,SAAS,GAAGD,YAAY,CAAC,uBAAD,CAA5B;;AAEA,MAAIE,SAAS,GAAGzB,QAAQ,CAAC,KAAD,CAAxB;AAAA,MACI0B,UAAU,GAAGlC,cAAc,CAACiC,SAAD,EAAY,CAAZ,CAD/B;AAAA,MAEIE,IAAI,GAAGD,UAAU,CAAC,CAAD,CAFrB;AAAA,MAGIE,OAAO,GAAGF,UAAU,CAAC,CAAD,CAHxB;;AAKA,MAAIrB,IAAI,KAAK,MAAb,EAAqB;AACnB,QAAIwB,GAAG,GAAGzB,IAAI,GAAGP,MAAM,CAACO,IAAD,CAAN,CAAaE,MAAb,CAAoBO,UAAU,CAACP,MAAX,IAAqBA,MAArB,IAA+B,YAAnD,CAAH,GAAsE,GAApF;;AAEA,QAAIG,MAAJ,EAAY;AACV,aAAOA,MAAM,CAACL,IAAD,EAAOb,aAAa,CAAC;AAChCc,QAAAA,IAAI,EAAEA;AAD0B,OAAD,EAE9BQ,UAF8B,CAApB,EAEG,aAAaf,KAAK,CAACgC,aAAN,CAAoBhC,KAAK,CAACiC,QAA1B,EAAoC,IAApC,EAA0CF,GAA1C,CAFhB,CAAb;AAGD;;AAED,WAAO,aAAa/B,KAAK,CAACgC,aAAN,CAAoBhC,KAAK,CAACiC,QAA1B,EAAoC,IAApC,EAA0CF,GAA1C,CAApB;AACD;;AAED,MAAIxB,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,QAAhC,EAA0C;AACxC,QAAI2B,IAAJ;;AAEA,QAAIC,QAAQ,GAAGpB,UAAU,CAACoB,QAA1B;AAAA,QACIC,KAAK,GAAGrB,UAAU,CAACqB,KADvB;AAAA,QAEIC,SAAS,GAAGtB,UAAU,CAACuB,QAF3B;AAAA,QAGIC,UAAU,GAAGxB,UAAU,CAACwB,UAH5B;AAAA,QAIIC,qBAAqB,GAAGzB,UAAU,CAAC0B,WAJvC;AAAA,QAKIA,WAAW,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmCpB,IAAI,CAACsB,UAAL,CAAgB,6BAAhB,EAA+C,KAA/C,CAAnC,GAA2FF,qBAL7G;AAMA,QAAIG,WAAW,GAAG7C,kBAAkB,CAACsC,KAAD,CAApC;;AAEA,QAAI1B,KAAJ,EAAW;AACT,UAAIkC,QAAQ,GAAGD,WAAW,IAAIA,WAAW,CAACnC,MAAZ,CAAmBA,MAAnB,CAAf,IAA6C,EAA5D;AACA0B,MAAAA,IAAI,GAAG,aAAalC,KAAK,CAACgC,aAAN,CAAoB,KAApB,EAA2B;AAC7Ca,QAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUpB,SAAV,EAAqB,QAArB,CADkC;AAE7CqB,QAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBC,CAAjB,EAAoB;AAC3B,cAAIC,mBAAJ,EAAyBC,qBAAzB,EAAgDC,sBAAhD,CAD2B,CAG3B;;;AACA,cAAIC,YAAY,GAAGlC,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwD,CAAC+B,mBAAmB,GAAG/B,UAAU,CAACmC,OAAlC,MAA+C,IAA/C,IAAuDJ,mBAAmB,KAAK,KAAK,CAApF,GAAwF,KAAK,CAA7F,GAAiG,CAACC,qBAAqB,GAAGD,mBAAmB,CAACK,QAA7C,MAA2D,IAA3D,IAAmEJ,qBAAqB,KAAK,KAAK,CAAlG,GAAsG,KAAK,CAA3G,GAA+G,CAACC,sBAAsB,GAAGD,qBAAqB,CAACG,OAAhD,MAA6D,IAA7D,IAAqEF,sBAAsB,KAAK,KAAK,CAArG,GAAyG,KAAK,CAA9G,GAAkHA,sBAAsB,CAACI,QAAvB,CAAgCP,CAAC,CAACQ,MAAlC,CAA7Y;;AAEA,cAAIJ,YAAJ,EAAkB;AAChBtB,YAAAA,OAAO,CAAC,CAACD,IAAF,CAAP;AACD,WAFD,MAEO;AACLC,YAAAA,OAAO,CAAC,IAAD,CAAP;AACD;AACF;AAb4C,OAA3B,EAcjB,aAAa9B,KAAK,CAACgC,aAAN,CAAoBzC,WAApB,EAAiCC,QAAQ,CAAC;AACxDwB,QAAAA,MAAM,EAAEA,MADgD;AAExDF,QAAAA,QAAQ,EAAEA,QAF8C;AAGxDN,QAAAA,MAAM,EAAEA,MAHgD;AAIxDH,QAAAA,GAAG,EAAEA;AAJmD,OAAD,EAKtDU,UALsD,EAK1C;AACbqB,QAAAA,KAAK,EAAEO,WADM;AAEbL,QAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBmB,CAAlB,EAAqB;AAC7BpB,UAAAA,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAACoB,CAAD,CAA/D;AACAC,UAAAA,UAAU,CAAC,YAAY;AACrB5B,YAAAA,OAAO,CAAC,KAAD,CAAP;AACD,WAFS,EAEP,CAFO,CAAV;AAGD,SAPY;AAQb6B,QAAAA,YAAY,EAAE,SAASA,YAAT,CAAsBC,MAAtB,EAA8B;AAC1C,cAAI,CAACzC,YAAL,EAAmB;AACjBW,YAAAA,OAAO,CAAC8B,MAAD,CAAP;AACD;AACF,SAZY;AAab/B,QAAAA,IAAI,EAAEA;AAbO,OAL0C,CAAzC,CAdI,EAiCf,aAAa7B,KAAK,CAACgC,aAAN,CAAoBnC,UAApB,EAAgC;AAChDY,QAAAA,KAAK,EAAEA,KADyC;AAEhD0B,QAAAA,QAAQ,EAAEA,QAFsC;AAGhDM,QAAAA,WAAW,EAAEA,WAHmC;AAIhDpB,QAAAA,IAAI,EAAEA,IAJ0C;AAKhDe,QAAAA,KAAK,EAAEQ,QALyC;AAMhDiB,QAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1BxB,UAAAA,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAAC,IAAD,CAA/D;AACD,SAR+C;AAShDE,QAAAA,UAAU,EAAEA,UAToC;AAUhDtB,QAAAA,QAAQ,EAAEA,QAVsC;AAWhD6C,QAAAA,QAAQ,EAAEjC,IAXsC;AAYhDxB,QAAAA,GAAG,EAAEa;AAZ2C,OAAhC,CAjCE,CAApB;AA+CD,KAjDD,MAiDO;AACLgB,MAAAA,IAAI,GAAG,aAAalC,KAAK,CAACgC,aAAN,CAAoBzC,WAApB,EAAiCC,QAAQ,CAAC;AAC5DwB,QAAAA,MAAM,EAAEA,MADoD;AAE5DF,QAAAA,QAAQ,EAAEA,QAFkD;AAG5DN,QAAAA,MAAM,EAAEA,MAHoD;AAI5DiC,QAAAA,WAAW,EAAEA,WAJ+C;AAK5DxB,QAAAA,QAAQ,EAAEJ,KAAK,KAAKkD,SAAV,GAAsB,IAAtB,GAA6B,CAAClD,KALoB;AAM5DR,QAAAA,GAAG,EAAEA;AANuD,OAAD,EAO1DU,UAP0D,EAO9C;AACbqB,QAAAA,KAAK,EAAEO;AADM,OAP8C,CAAzC,CAApB;AAUD;;AAED,QAAI/B,cAAJ,EAAoB;AAClB,aAAOA,cAAc,CAACN,IAAD,EAAOb,aAAa,CAAC;AACxCc,QAAAA,IAAI,EAAEA;AADkC,OAAD,EAEtCQ,UAFsC,CAApB,EAELmB,IAFK,CAArB;AAGD;;AAED,WAAOA,IAAP;AACD;;AAED,SAAO,IAAP;AACD,CA3HD;;AA6HA,eAAe,aAAalC,KAAK,CAACgE,UAAN,CAAiB7D,eAAjB,CAA5B","sourcesContent":["import \"antd/es/date-picker/style\";\nimport _DatePicker from \"antd/es/date-picker\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport { useIntl } from '@ant-design/pro-provider';\nimport { FieldLabel, parseValueToMoment } from '@ant-design/pro-utils';\nimport moment from 'moment';\nimport React, { useContext, useState } from 'react';\nimport './index.less';\n/**\n * 日期选择组件\n *\n * @param\n */\n\nvar FieldDatePicker = function FieldDatePicker(_ref, ref) {\n  var text = _ref.text,\n      mode = _ref.mode,\n      format = _ref.format,\n      label = _ref.label,\n      light = _ref.light,\n      render = _ref.render,\n      renderFormItem = _ref.renderFormItem,\n      plain = _ref.plain,\n      showTime = _ref.showTime,\n      fieldProps = _ref.fieldProps,\n      picker = _ref.picker,\n      bordered = _ref.bordered,\n      lightLabel = _ref.lightLabel,\n      labelTrigger = _ref.labelTrigger;\n  var intl = useIntl();\n  var size = useContext(_ConfigProvider.SizeContext);\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-field-date-picker');\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  if (mode === 'read') {\n    var dom = text ? moment(text).format(fieldProps.format || format || 'YYYY-MM-DD') : '-';\n\n    if (render) {\n      return render(text, _objectSpread({\n        mode: mode\n      }, fieldProps), /*#__PURE__*/React.createElement(React.Fragment, null, dom));\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, dom);\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    var _dom;\n\n    var disabled = fieldProps.disabled,\n        value = fieldProps.value,\n        _onChange = fieldProps.onChange,\n        allowClear = fieldProps.allowClear,\n        _fieldProps$placehold = fieldProps.placeholder,\n        placeholder = _fieldProps$placehold === void 0 ? intl.getMessage('tableForm.selectPlaceholder', '请选择') : _fieldProps$placehold;\n    var momentValue = parseValueToMoment(value);\n\n    if (light) {\n      var valueStr = momentValue && momentValue.format(format) || '';\n      _dom = /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-light\"),\n        onClick: function onClick(e) {\n          var _lightLabel$current, _lightLabel$current$l, _lightLabel$current$l2;\n\n          // 点击label切换下拉菜单\n          var isLabelClick = lightLabel === null || lightLabel === void 0 ? void 0 : (_lightLabel$current = lightLabel.current) === null || _lightLabel$current === void 0 ? void 0 : (_lightLabel$current$l = _lightLabel$current.labelRef) === null || _lightLabel$current$l === void 0 ? void 0 : (_lightLabel$current$l2 = _lightLabel$current$l.current) === null || _lightLabel$current$l2 === void 0 ? void 0 : _lightLabel$current$l2.contains(e.target);\n\n          if (isLabelClick) {\n            setOpen(!open);\n          } else {\n            setOpen(true);\n          }\n        }\n      }, /*#__PURE__*/React.createElement(_DatePicker, _extends({\n        picker: picker,\n        showTime: showTime,\n        format: format,\n        ref: ref\n      }, fieldProps, {\n        value: momentValue,\n        onChange: function onChange(v) {\n          _onChange === null || _onChange === void 0 ? void 0 : _onChange(v);\n          setTimeout(function () {\n            setOpen(false);\n          }, 0);\n        },\n        onOpenChange: function onOpenChange(isOpen) {\n          if (!labelTrigger) {\n            setOpen(isOpen);\n          }\n        },\n        open: open\n      })), /*#__PURE__*/React.createElement(FieldLabel, {\n        label: label,\n        disabled: disabled,\n        placeholder: placeholder,\n        size: size,\n        value: valueStr,\n        onClear: function onClear() {\n          _onChange === null || _onChange === void 0 ? void 0 : _onChange(null);\n        },\n        allowClear: allowClear,\n        bordered: bordered,\n        expanded: open,\n        ref: lightLabel\n      }));\n    } else {\n      _dom = /*#__PURE__*/React.createElement(_DatePicker, _extends({\n        picker: picker,\n        showTime: showTime,\n        format: format,\n        placeholder: placeholder,\n        bordered: plain === undefined ? true : !plain,\n        ref: ref\n      }, fieldProps, {\n        value: momentValue\n      }));\n    }\n\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldDatePicker);"]},"metadata":{},"sourceType":"module"}