{"ast":null,"code":"import \"antd/es/date-picker/style\";\nimport _DatePicker from \"antd/es/date-picker\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport \"antd/es/tooltip/style\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport React from \"react\";\nimport { useIntl } from '@ant-design/pro-provider';\nimport { parseValueToMoment } from '@ant-design/pro-utils';\nimport moment from 'moment';\n/**\n * 与当前的时间进行比较 http://momentjs.cn/docs/displaying/fromnow.html\n *\n * @param\n */\n\nvar FieldFromNow = function FieldFromNow(_ref) {\n  var text = _ref.text,\n      mode = _ref.mode,\n      render = _ref.render,\n      renderFormItem = _ref.renderFormItem,\n      format = _ref.format,\n      fieldProps = _ref.fieldProps;\n  var intl = useIntl();\n\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/React.createElement(_Tooltip, {\n      title: moment(text).format((fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.format) || format || 'YYYY-MM-DD HH:mm:ss')\n    }, moment(text).fromNow());\n\n    if (render) {\n      return render(text, _objectSpread({\n        mode: mode\n      }, fieldProps), /*#__PURE__*/React.createElement(React.Fragment, null, dom));\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, dom);\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    var placeholder = intl.getMessage('tableForm.selectPlaceholder', '请选择');\n    var momentValue = parseValueToMoment(fieldProps.value);\n\n    var _dom = /*#__PURE__*/React.createElement(_DatePicker, _extends({\n      placeholder: placeholder,\n      showTime: true\n    }, fieldProps, {\n      value: momentValue\n    }));\n\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default FieldFromNow;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-field/es/components/FromNow/index.js"],"names":["_DatePicker","_extends","_objectSpread","_Tooltip","React","useIntl","parseValueToMoment","moment","FieldFromNow","_ref","text","mode","render","renderFormItem","format","fieldProps","intl","dom","createElement","title","fromNow","Fragment","placeholder","getMessage","momentValue","value","_dom","showTime"],"mappings":"AAAA,OAAO,2BAAP;AACA,OAAOA,WAAP,MAAwB,qBAAxB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAO,uBAAP;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,0BAAxB;AACA,SAASC,kBAAT,QAAmC,uBAAnC;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,YAAY,GAAG,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;AAC7C,MAAIC,IAAI,GAAGD,IAAI,CAACC,IAAhB;AAAA,MACIC,IAAI,GAAGF,IAAI,CAACE,IADhB;AAAA,MAEIC,MAAM,GAAGH,IAAI,CAACG,MAFlB;AAAA,MAGIC,cAAc,GAAGJ,IAAI,CAACI,cAH1B;AAAA,MAIIC,MAAM,GAAGL,IAAI,CAACK,MAJlB;AAAA,MAKIC,UAAU,GAAGN,IAAI,CAACM,UALtB;AAMA,MAAIC,IAAI,GAAGX,OAAO,EAAlB;;AAEA,MAAIM,IAAI,KAAK,MAAb,EAAqB;AACnB,QAAIM,GAAG,GAAG,aAAab,KAAK,CAACc,aAAN,CAAoBf,QAApB,EAA8B;AACnDgB,MAAAA,KAAK,EAAEZ,MAAM,CAACG,IAAD,CAAN,CAAaI,MAAb,CAAoB,CAACC,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAACD,MAApE,KAA+EA,MAA/E,IAAyF,qBAA7G;AAD4C,KAA9B,EAEpBP,MAAM,CAACG,IAAD,CAAN,CAAaU,OAAb,EAFoB,CAAvB;;AAIA,QAAIR,MAAJ,EAAY;AACV,aAAOA,MAAM,CAACF,IAAD,EAAOR,aAAa,CAAC;AAChCS,QAAAA,IAAI,EAAEA;AAD0B,OAAD,EAE9BI,UAF8B,CAApB,EAEG,aAAaX,KAAK,CAACc,aAAN,CAAoBd,KAAK,CAACiB,QAA1B,EAAoC,IAApC,EAA0CJ,GAA1C,CAFhB,CAAb;AAGD;;AAED,WAAO,aAAab,KAAK,CAACc,aAAN,CAAoBd,KAAK,CAACiB,QAA1B,EAAoC,IAApC,EAA0CJ,GAA1C,CAApB;AACD;;AAED,MAAIN,IAAI,KAAK,MAAT,IAAmBA,IAAI,KAAK,QAAhC,EAA0C;AACxC,QAAIW,WAAW,GAAGN,IAAI,CAACO,UAAL,CAAgB,6BAAhB,EAA+C,KAA/C,CAAlB;AACA,QAAIC,WAAW,GAAGlB,kBAAkB,CAACS,UAAU,CAACU,KAAZ,CAApC;;AAEA,QAAIC,IAAI,GAAG,aAAatB,KAAK,CAACc,aAAN,CAAoBlB,WAApB,EAAiCC,QAAQ,CAAC;AAChEqB,MAAAA,WAAW,EAAEA,WADmD;AAEhEK,MAAAA,QAAQ,EAAE;AAFsD,KAAD,EAG9DZ,UAH8D,EAGlD;AACbU,MAAAA,KAAK,EAAED;AADM,KAHkD,CAAzC,CAAxB;;AAOA,QAAIX,cAAJ,EAAoB;AAClB,aAAOA,cAAc,CAACH,IAAD,EAAOR,aAAa,CAAC;AACxCS,QAAAA,IAAI,EAAEA;AADkC,OAAD,EAEtCI,UAFsC,CAApB,EAELW,IAFK,CAArB;AAGD;;AAED,WAAOA,IAAP;AACD;;AAED,SAAO,IAAP;AACD,CA5CD;;AA8CA,eAAelB,YAAf","sourcesContent":["import \"antd/es/date-picker/style\";\nimport _DatePicker from \"antd/es/date-picker\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport \"antd/es/tooltip/style\";\nimport _Tooltip from \"antd/es/tooltip\";\nimport React from \"react\";\nimport { useIntl } from '@ant-design/pro-provider';\nimport { parseValueToMoment } from '@ant-design/pro-utils';\nimport moment from 'moment';\n/**\n * 与当前的时间进行比较 http://momentjs.cn/docs/displaying/fromnow.html\n *\n * @param\n */\n\nvar FieldFromNow = function FieldFromNow(_ref) {\n  var text = _ref.text,\n      mode = _ref.mode,\n      render = _ref.render,\n      renderFormItem = _ref.renderFormItem,\n      format = _ref.format,\n      fieldProps = _ref.fieldProps;\n  var intl = useIntl();\n\n  if (mode === 'read') {\n    var dom = /*#__PURE__*/React.createElement(_Tooltip, {\n      title: moment(text).format((fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.format) || format || 'YYYY-MM-DD HH:mm:ss')\n    }, moment(text).fromNow());\n\n    if (render) {\n      return render(text, _objectSpread({\n        mode: mode\n      }, fieldProps), /*#__PURE__*/React.createElement(React.Fragment, null, dom));\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, dom);\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    var placeholder = intl.getMessage('tableForm.selectPlaceholder', '请选择');\n    var momentValue = parseValueToMoment(fieldProps.value);\n\n    var _dom = /*#__PURE__*/React.createElement(_DatePicker, _extends({\n      placeholder: placeholder,\n      showTime: true\n    }, fieldProps, {\n      value: momentValue\n    }));\n\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default FieldFromNow;"]},"metadata":{},"sourceType":"module"}