{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"rightContentRender\", \"prefixCls\"];\nimport { useDebounceFn } from '@ant-design/pro-utils';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport React, { useRef, useState } from 'react';\nimport BaseMenu from '../SiderMenu/BaseMenu';\nimport { defaultRenderLogoAndTitle } from '../SiderMenu/SiderMenu';\nimport './index.less';\n/**\n * 抽离出来是为了防止 rightSize 经常改变导致菜单 render\n *\n * @param param0\n */\n\nexport var RightContent = function RightContent(_ref) {\n  var rightContentRender = _ref.rightContentRender,\n      prefixCls = _ref.prefixCls,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState('auto'),\n      _useState2 = _slicedToArray(_useState, 2),\n      rightSize = _useState2[0],\n      setRightSize = _useState2[1];\n  /** 减少一下渲染的次数 */\n\n\n  var setRightSizeDebounceFn = useDebounceFn( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(width) {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setRightSize(width);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), 160);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-right-content\"),\n    style: {\n      minWidth: rightSize\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingRight: 8\n    }\n  }, /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: function onResize(_ref3) {\n      var width = _ref3.width;\n      setRightSizeDebounceFn.run(width);\n    }\n  }, rightContentRender && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-right-content-resize\")\n  }, rightContentRender(_objectSpread(_objectSpread({}, props), {}, {\n    // 测试专用\n    //@ts-ignore\n    rightContentSize: rightSize\n  }))))));\n};\n\nvar TopNavHeader = function TopNavHeader(props) {\n  var ref = useRef(null);\n  var theme = props.theme,\n      onMenuHeaderClick = props.onMenuHeaderClick,\n      contentWidth = props.contentWidth,\n      rightContentRender = props.rightContentRender,\n      propsClassName = props.className,\n      style = props.style,\n      headerContentRender = props.headerContentRender,\n      layout = props.layout;\n  var prefixCls = \"\".concat(props.prefixCls || 'ant-pro', \"-top-nav-header\");\n  var headerDom = defaultRenderLogoAndTitle(_objectSpread(_objectSpread({}, props), {}, {\n    collapsed: false\n  }), layout === 'mix' ? 'headerTitleRender' : undefined);\n  var className = classNames(prefixCls, propsClassName, {\n    light: theme === 'light'\n  });\n  var defaultDom = /*#__PURE__*/React.createElement(BaseMenu, _extends({}, props, props.menuProps));\n  var headerContentDom = headerContentRender ? headerContentRender === null || headerContentRender === void 0 ? void 0 : headerContentRender(props, defaultDom) : defaultDom;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: style\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    className: \"\".concat(prefixCls, \"-main \").concat(contentWidth === 'Fixed' ? 'wide' : '')\n  }, headerDom && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-main-left\"),\n    onClick: onMenuHeaderClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-logo\"),\n    key: \"logo\",\n    id: \"logo\"\n  }, headerDom)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    className: \"\".concat(prefixCls, \"-menu\")\n  }, headerContentDom), rightContentRender && /*#__PURE__*/React.createElement(RightContent, _extends({\n    rightContentRender: rightContentRender,\n    prefixCls: prefixCls\n  }, props))));\n};\n\nexport default TopNavHeader;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-layout/es/components/TopNavHeader/index.js"],"names":["_extends","_objectSpread","_regeneratorRuntime","_asyncToGenerator","_slicedToArray","_objectWithoutProperties","_excluded","useDebounceFn","classNames","ResizeObserver","React","useRef","useState","BaseMenu","defaultRenderLogoAndTitle","RightContent","_ref","rightContentRender","prefixCls","props","_useState","_useState2","rightSize","setRightSize","setRightSizeDebounceFn","_ref2","mark","_callee","width","wrap","_callee$","_context","prev","next","stop","_x","apply","arguments","createElement","className","concat","style","minWidth","paddingRight","onResize","_ref3","run","rightContentSize","TopNavHeader","ref","theme","onMenuHeaderClick","contentWidth","propsClassName","headerContentRender","layout","headerDom","collapsed","undefined","light","defaultDom","menuProps","headerContentDom","onClick","key","id","flex"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAOC,mBAAP,MAAgC,+CAAhC;AACA,OAAOC,iBAAP,MAA8B,6CAA9B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AACA,OAAOC,wBAAP,MAAqC,oDAArC;AACA,IAAIC,SAAS,GAAG,CAAC,oBAAD,EAAuB,WAAvB,CAAhB;AACA,SAASC,aAAT,QAA8B,uBAA9B;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,cAAP,MAA2B,oBAA3B;AACA,OAAOC,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,SAASC,yBAAT,QAA0C,wBAA1C;AACA,OAAO,cAAP;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,IAAIC,YAAY,GAAG,SAASA,YAAT,CAAsBC,IAAtB,EAA4B;AACpD,MAAIC,kBAAkB,GAAGD,IAAI,CAACC,kBAA9B;AAAA,MACIC,SAAS,GAAGF,IAAI,CAACE,SADrB;AAAA,MAEIC,KAAK,GAAGd,wBAAwB,CAACW,IAAD,EAAOV,SAAP,CAFpC;;AAIA,MAAIc,SAAS,GAAGR,QAAQ,CAAC,MAAD,CAAxB;AAAA,MACIS,UAAU,GAAGjB,cAAc,CAACgB,SAAD,EAAY,CAAZ,CAD/B;AAAA,MAEIE,SAAS,GAAGD,UAAU,CAAC,CAAD,CAF1B;AAAA,MAGIE,YAAY,GAAGF,UAAU,CAAC,CAAD,CAH7B;AAIA;;;AAGA,MAAIG,sBAAsB,GAAGjB,aAAa,EAAE,aAAa,YAAY;AACnE,QAAIkB,KAAK,GAAGtB,iBAAiB,EAAE,aAAaD,mBAAmB,GAAGwB,IAAtB,CAA2B,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AAC7F,aAAO1B,mBAAmB,GAAG2B,IAAtB,CAA2B,SAASC,QAAT,CAAkBC,QAAlB,EAA4B;AAC5D,eAAO,CAAP,EAAU;AACR,kBAAQA,QAAQ,CAACC,IAAT,GAAgBD,QAAQ,CAACE,IAAjC;AACE,iBAAK,CAAL;AACEV,cAAAA,YAAY,CAACK,KAAD,CAAZ;;AAEF,iBAAK,CAAL;AACA,iBAAK,KAAL;AACE,qBAAOG,QAAQ,CAACG,IAAT,EAAP;AANJ;AAQD;AACF,OAXM,EAWJP,OAXI,CAAP;AAYD,KAb2C,CAAf,CAA7B;;AAeA,WAAO,UAAUQ,EAAV,EAAc;AACnB,aAAOV,KAAK,CAACW,KAAN,CAAY,IAAZ,EAAkBC,SAAlB,CAAP;AACD,KAFD;AAGD,GAnBwD,EAAf,EAmBrC,GAnBqC,CAA1C;AAoBA,SAAO,aAAa3B,KAAK,CAAC4B,aAAN,CAAoB,KAApB,EAA2B;AAC7CC,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUtB,SAAV,EAAqB,gBAArB,CADkC;AAE7CuB,IAAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAEpB;AADL;AAFsC,GAA3B,EAKjB,aAAaZ,KAAK,CAAC4B,aAAN,CAAoB,KAApB,EAA2B;AACzCG,IAAAA,KAAK,EAAE;AACLE,MAAAA,YAAY,EAAE;AADT;AADkC,GAA3B,EAIb,aAAajC,KAAK,CAAC4B,aAAN,CAAoB7B,cAApB,EAAoC;AAClDmC,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;AACjC,UAAIjB,KAAK,GAAGiB,KAAK,CAACjB,KAAlB;AACAJ,MAAAA,sBAAsB,CAACsB,GAAvB,CAA2BlB,KAA3B;AACD;AAJiD,GAApC,EAKbX,kBAAkB,IAAI,aAAaP,KAAK,CAAC4B,aAAN,CAAoB,KAApB,EAA2B;AAC/DC,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUtB,SAAV,EAAqB,uBAArB;AADoD,GAA3B,EAEnCD,kBAAkB,CAAChB,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKkB,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AAChE;AACA;AACA4B,IAAAA,gBAAgB,EAAEzB;AAH8C,GAA/B,CAAd,CAFiB,CALtB,CAJA,CALI,CAApB;AAqBD,CArDM;;AAuDP,IAAI0B,YAAY,GAAG,SAASA,YAAT,CAAsB7B,KAAtB,EAA6B;AAC9C,MAAI8B,GAAG,GAAGtC,MAAM,CAAC,IAAD,CAAhB;AACA,MAAIuC,KAAK,GAAG/B,KAAK,CAAC+B,KAAlB;AAAA,MACIC,iBAAiB,GAAGhC,KAAK,CAACgC,iBAD9B;AAAA,MAEIC,YAAY,GAAGjC,KAAK,CAACiC,YAFzB;AAAA,MAGInC,kBAAkB,GAAGE,KAAK,CAACF,kBAH/B;AAAA,MAIIoC,cAAc,GAAGlC,KAAK,CAACoB,SAJ3B;AAAA,MAKIE,KAAK,GAAGtB,KAAK,CAACsB,KALlB;AAAA,MAMIa,mBAAmB,GAAGnC,KAAK,CAACmC,mBANhC;AAAA,MAOIC,MAAM,GAAGpC,KAAK,CAACoC,MAPnB;AAQA,MAAIrC,SAAS,GAAG,GAAGsB,MAAH,CAAUrB,KAAK,CAACD,SAAN,IAAmB,SAA7B,EAAwC,iBAAxC,CAAhB;AACA,MAAIsC,SAAS,GAAG1C,yBAAyB,CAACb,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKkB,KAAL,CAAd,EAA2B,EAA3B,EAA+B;AACpFsC,IAAAA,SAAS,EAAE;AADyE,GAA/B,CAAd,EAErCF,MAAM,KAAK,KAAX,GAAmB,mBAAnB,GAAyCG,SAFJ,CAAzC;AAGA,MAAInB,SAAS,GAAG/B,UAAU,CAACU,SAAD,EAAYmC,cAAZ,EAA4B;AACpDM,IAAAA,KAAK,EAAET,KAAK,KAAK;AADmC,GAA5B,CAA1B;AAGA,MAAIU,UAAU,GAAG,aAAalD,KAAK,CAAC4B,aAAN,CAAoBzB,QAApB,EAA8Bb,QAAQ,CAAC,EAAD,EAAKmB,KAAL,EAAYA,KAAK,CAAC0C,SAAlB,CAAtC,CAA9B;AACA,MAAIC,gBAAgB,GAAGR,mBAAmB,GAAGA,mBAAmB,KAAK,IAAxB,IAAgCA,mBAAmB,KAAK,KAAK,CAA7D,GAAiE,KAAK,CAAtE,GAA0EA,mBAAmB,CAACnC,KAAD,EAAQyC,UAAR,CAAhG,GAAsHA,UAAhK;AACA,SAAO,aAAalD,KAAK,CAAC4B,aAAN,CAAoB,KAApB,EAA2B;AAC7CC,IAAAA,SAAS,EAAEA,SADkC;AAE7CE,IAAAA,KAAK,EAAEA;AAFsC,GAA3B,EAGjB,aAAa/B,KAAK,CAAC4B,aAAN,CAAoB,KAApB,EAA2B;AACzCW,IAAAA,GAAG,EAAEA,GADoC;AAEzCV,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUtB,SAAV,EAAqB,QAArB,EAA+BsB,MAA/B,CAAsCY,YAAY,KAAK,OAAjB,GAA2B,MAA3B,GAAoC,EAA1E;AAF8B,GAA3B,EAGbI,SAAS,IAAI,aAAa9C,KAAK,CAAC4B,aAAN,CAAoB,KAApB,EAA2B;AACtDC,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUtB,SAAV,EAAqB,YAArB,CAD2C;AAEtD6C,IAAAA,OAAO,EAAEZ;AAF6C,GAA3B,EAG1B,aAAazC,KAAK,CAAC4B,aAAN,CAAoB,KAApB,EAA2B;AACzCC,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUtB,SAAV,EAAqB,OAArB,CAD8B;AAEzC8C,IAAAA,GAAG,EAAE,MAFoC;AAGzCC,IAAAA,EAAE,EAAE;AAHqC,GAA3B,EAIbT,SAJa,CAHa,CAHb,EAUA,aAAa9C,KAAK,CAAC4B,aAAN,CAAoB,KAApB,EAA2B;AACtDG,IAAAA,KAAK,EAAE;AACLyB,MAAAA,IAAI,EAAE;AADD,KAD+C;AAItD3B,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUtB,SAAV,EAAqB,OAArB;AAJ2C,GAA3B,EAK1B4C,gBAL0B,CAVb,EAeM7C,kBAAkB,IAAI,aAAaP,KAAK,CAAC4B,aAAN,CAAoBvB,YAApB,EAAkCf,QAAQ,CAAC;AAClGiB,IAAAA,kBAAkB,EAAEA,kBAD8E;AAElGC,IAAAA,SAAS,EAAEA;AAFuF,GAAD,EAGhGC,KAHgG,CAA1C,CAfzC,CAHI,CAApB;AAsBD,CAzCD;;AA2CA,eAAe6B,YAAf","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"rightContentRender\", \"prefixCls\"];\nimport { useDebounceFn } from '@ant-design/pro-utils';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport React, { useRef, useState } from 'react';\nimport BaseMenu from '../SiderMenu/BaseMenu';\nimport { defaultRenderLogoAndTitle } from '../SiderMenu/SiderMenu';\nimport './index.less';\n/**\n * 抽离出来是为了防止 rightSize 经常改变导致菜单 render\n *\n * @param param0\n */\n\nexport var RightContent = function RightContent(_ref) {\n  var rightContentRender = _ref.rightContentRender,\n      prefixCls = _ref.prefixCls,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState('auto'),\n      _useState2 = _slicedToArray(_useState, 2),\n      rightSize = _useState2[0],\n      setRightSize = _useState2[1];\n  /** 减少一下渲染的次数 */\n\n\n  var setRightSizeDebounceFn = useDebounceFn( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(width) {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setRightSize(width);\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), 160);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-right-content\"),\n    style: {\n      minWidth: rightSize\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingRight: 8\n    }\n  }, /*#__PURE__*/React.createElement(ResizeObserver, {\n    onResize: function onResize(_ref3) {\n      var width = _ref3.width;\n      setRightSizeDebounceFn.run(width);\n    }\n  }, rightContentRender && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-right-content-resize\")\n  }, rightContentRender(_objectSpread(_objectSpread({}, props), {}, {\n    // 测试专用\n    //@ts-ignore\n    rightContentSize: rightSize\n  }))))));\n};\n\nvar TopNavHeader = function TopNavHeader(props) {\n  var ref = useRef(null);\n  var theme = props.theme,\n      onMenuHeaderClick = props.onMenuHeaderClick,\n      contentWidth = props.contentWidth,\n      rightContentRender = props.rightContentRender,\n      propsClassName = props.className,\n      style = props.style,\n      headerContentRender = props.headerContentRender,\n      layout = props.layout;\n  var prefixCls = \"\".concat(props.prefixCls || 'ant-pro', \"-top-nav-header\");\n  var headerDom = defaultRenderLogoAndTitle(_objectSpread(_objectSpread({}, props), {}, {\n    collapsed: false\n  }), layout === 'mix' ? 'headerTitleRender' : undefined);\n  var className = classNames(prefixCls, propsClassName, {\n    light: theme === 'light'\n  });\n  var defaultDom = /*#__PURE__*/React.createElement(BaseMenu, _extends({}, props, props.menuProps));\n  var headerContentDom = headerContentRender ? headerContentRender === null || headerContentRender === void 0 ? void 0 : headerContentRender(props, defaultDom) : defaultDom;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: style\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: ref,\n    className: \"\".concat(prefixCls, \"-main \").concat(contentWidth === 'Fixed' ? 'wide' : '')\n  }, headerDom && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-main-left\"),\n    onClick: onMenuHeaderClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-logo\"),\n    key: \"logo\",\n    id: \"logo\"\n  }, headerDom)), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    },\n    className: \"\".concat(prefixCls, \"-menu\")\n  }, headerContentDom), rightContentRender && /*#__PURE__*/React.createElement(RightContent, _extends({\n    rightContentRender: rightContentRender,\n    prefixCls: prefixCls\n  }, props))));\n};\n\nexport default TopNavHeader;"]},"metadata":{},"sourceType":"module"}