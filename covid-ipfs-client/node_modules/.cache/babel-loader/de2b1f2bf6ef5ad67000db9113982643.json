{"ast":null,"code":"import \"antd/es/input-number/style\";\nimport _InputNumber from \"antd/es/input-number\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport toNumber from 'lodash.tonumber';\nimport React, { Fragment, useMemo } from 'react';\nimport { getColorByRealValue, getRealTextWithPrecision, getSymbolByRealValue } from './util';\n/**\n * 百分比组件\n *\n * @param PercentPropInt\n */\n\nvar FieldPercent = function FieldPercent(_ref, ref) {\n  var text = _ref.text,\n      prefix = _ref.prefix,\n      precision = _ref.precision,\n      _ref$suffix = _ref.suffix,\n      suffix = _ref$suffix === void 0 ? '%' : _ref$suffix,\n      mode = _ref.mode,\n      _ref$showColor = _ref.showColor,\n      showColor = _ref$showColor === void 0 ? false : _ref$showColor,\n      render = _ref.render,\n      renderFormItem = _ref.renderFormItem,\n      fieldProps = _ref.fieldProps,\n      placeholder = _ref.placeholder,\n      propsShowSymbol = _ref.showSymbol;\n  var realValue = useMemo(function () {\n    return typeof text === 'string' && text.includes('%') ? toNumber(text.replace('%', '')) : toNumber(text);\n  }, [text]);\n  var showSymbol = useMemo(function () {\n    if (typeof propsShowSymbol === 'function') {\n      return propsShowSymbol === null || propsShowSymbol === void 0 ? void 0 : propsShowSymbol(text);\n    }\n\n    return propsShowSymbol;\n  }, [propsShowSymbol, text]);\n\n  if (mode === 'read') {\n    /** 颜色有待确定, 根据提供 colors: ['正', '负'] | boolean */\n    var style = showColor ? {\n      color: getColorByRealValue(realValue)\n    } : {};\n    var dom = /*#__PURE__*/React.createElement(\"span\", {\n      style: style,\n      ref: ref\n    }, prefix && /*#__PURE__*/React.createElement(\"span\", null, prefix), showSymbol && /*#__PURE__*/React.createElement(Fragment, null, getSymbolByRealValue(realValue), \" \"), getRealTextWithPrecision(Math.abs(realValue), precision), suffix && suffix);\n\n    if (render) {\n      return render(text, _objectSpread(_objectSpread({\n        mode: mode\n      }, fieldProps), {}, {\n        prefix: prefix,\n        precision: precision,\n        showSymbol: showSymbol,\n        suffix: suffix\n      }), dom);\n    }\n\n    return dom;\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    var _dom = /*#__PURE__*/React.createElement(_InputNumber, _extends({\n      ref: ref,\n      formatter: function formatter(value) {\n        if (value && prefix) {\n          return \"\".concat(prefix, \" \").concat(value).replace(/\\B(?=(\\d{3})+(?!\\d)$)/g, ',');\n        }\n\n        return value;\n      },\n      parser: function parser(value) {\n        return value ? value.replace(/.*\\s|,/g, '') : '';\n      },\n      placeholder: placeholder\n    }, fieldProps));\n\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldPercent);","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-field/es/components/Percent/index.js"],"names":["_InputNumber","_extends","_objectSpread","toNumber","React","Fragment","useMemo","getColorByRealValue","getRealTextWithPrecision","getSymbolByRealValue","FieldPercent","_ref","ref","text","prefix","precision","_ref$suffix","suffix","mode","_ref$showColor","showColor","render","renderFormItem","fieldProps","placeholder","propsShowSymbol","showSymbol","realValue","includes","replace","style","color","dom","createElement","Math","abs","_dom","formatter","value","concat","parser","forwardRef"],"mappings":"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","sourcesContent":["import \"antd/es/input-number/style\";\nimport _InputNumber from \"antd/es/input-number\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport toNumber from 'lodash.tonumber';\nimport React, { Fragment, useMemo } from 'react';\nimport { getColorByRealValue, getRealTextWithPrecision, getSymbolByRealValue } from './util';\n/**\n * 百分比组件\n *\n * @param PercentPropInt\n */\n\nvar FieldPercent = function FieldPercent(_ref, ref) {\n  var text = _ref.text,\n      prefix = _ref.prefix,\n      precision = _ref.precision,\n      _ref$suffix = _ref.suffix,\n      suffix = _ref$suffix === void 0 ? '%' : _ref$suffix,\n      mode = _ref.mode,\n      _ref$showColor = _ref.showColor,\n      showColor = _ref$showColor === void 0 ? false : _ref$showColor,\n      render = _ref.render,\n      renderFormItem = _ref.renderFormItem,\n      fieldProps = _ref.fieldProps,\n      placeholder = _ref.placeholder,\n      propsShowSymbol = _ref.showSymbol;\n  var realValue = useMemo(function () {\n    return typeof text === 'string' && text.includes('%') ? toNumber(text.replace('%', '')) : toNumber(text);\n  }, [text]);\n  var showSymbol = useMemo(function () {\n    if (typeof propsShowSymbol === 'function') {\n      return propsShowSymbol === null || propsShowSymbol === void 0 ? void 0 : propsShowSymbol(text);\n    }\n\n    return propsShowSymbol;\n  }, [propsShowSymbol, text]);\n\n  if (mode === 'read') {\n    /** 颜色有待确定, 根据提供 colors: ['正', '负'] | boolean */\n    var style = showColor ? {\n      color: getColorByRealValue(realValue)\n    } : {};\n    var dom = /*#__PURE__*/React.createElement(\"span\", {\n      style: style,\n      ref: ref\n    }, prefix && /*#__PURE__*/React.createElement(\"span\", null, prefix), showSymbol && /*#__PURE__*/React.createElement(Fragment, null, getSymbolByRealValue(realValue), \" \"), getRealTextWithPrecision(Math.abs(realValue), precision), suffix && suffix);\n\n    if (render) {\n      return render(text, _objectSpread(_objectSpread({\n        mode: mode\n      }, fieldProps), {}, {\n        prefix: prefix,\n        precision: precision,\n        showSymbol: showSymbol,\n        suffix: suffix\n      }), dom);\n    }\n\n    return dom;\n  }\n\n  if (mode === 'edit' || mode === 'update') {\n    var _dom = /*#__PURE__*/React.createElement(_InputNumber, _extends({\n      ref: ref,\n      formatter: function formatter(value) {\n        if (value && prefix) {\n          return \"\".concat(prefix, \" \").concat(value).replace(/\\B(?=(\\d{3})+(?!\\d)$)/g, ',');\n        }\n\n        return value;\n      },\n      parser: function parser(value) {\n        return value ? value.replace(/.*\\s|,/g, '') : '';\n      },\n      placeholder: placeholder\n    }, fieldProps));\n\n    if (renderFormItem) {\n      return renderFormItem(text, _objectSpread({\n        mode: mode\n      }, fieldProps), _dom);\n    }\n\n    return _dom;\n  }\n\n  return null;\n};\n\nexport default /*#__PURE__*/React.forwardRef(FieldPercent);"]},"metadata":{},"sourceType":"module"}