{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { useEffect, useRef, version } from 'react';\n\nfunction useMountMergeState(initialState, option) {\n  var mountRef = useRef(false);\n  var frame = useRef(undefined);\n  useEffect(function () {\n    mountRef.current = true;\n    return function () {\n      clearTimeout(frame.current);\n      mountRef.current = false;\n    };\n  }, []);\n\n  var _useMergedState = useMergedState(initialState, option),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      state = _useMergedState2[0],\n      setState = _useMergedState2[1];\n\n  var mountSetState = function mountSetState(prevState) {\n    clearTimeout(frame.current);\n    frame.current = window.setTimeout(function () {\n      if (mountRef.current) {\n        setState(prevState);\n      }\n    }, 16);\n  }; // react 18 就不需要 mountSetState 了\n\n\n  return version.startsWith('18') ? [state, setState] : [state, mountSetState];\n}\n\nexport default useMountMergeState;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-utils/es/useMountMergeState/index.js"],"names":["_slicedToArray","useMergedState","useEffect","useRef","version","useMountMergeState","initialState","option","mountRef","frame","undefined","current","clearTimeout","_useMergedState","_useMergedState2","state","setState","mountSetState","prevState","window","setTimeout","startsWith"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,OAA5B,QAA2C,OAA3C;;AAEA,SAASC,kBAAT,CAA4BC,YAA5B,EAA0CC,MAA1C,EAAkD;AAChD,MAAIC,QAAQ,GAAGL,MAAM,CAAC,KAAD,CAArB;AACA,MAAIM,KAAK,GAAGN,MAAM,CAACO,SAAD,CAAlB;AACAR,EAAAA,SAAS,CAAC,YAAY;AACpBM,IAAAA,QAAQ,CAACG,OAAT,GAAmB,IAAnB;AACA,WAAO,YAAY;AACjBC,MAAAA,YAAY,CAACH,KAAK,CAACE,OAAP,CAAZ;AACAH,MAAAA,QAAQ,CAACG,OAAT,GAAmB,KAAnB;AACD,KAHD;AAID,GANQ,EAMN,EANM,CAAT;;AAQA,MAAIE,eAAe,GAAGZ,cAAc,CAACK,YAAD,EAAeC,MAAf,CAApC;AAAA,MACIO,gBAAgB,GAAGd,cAAc,CAACa,eAAD,EAAkB,CAAlB,CADrC;AAAA,MAEIE,KAAK,GAAGD,gBAAgB,CAAC,CAAD,CAF5B;AAAA,MAGIE,QAAQ,GAAGF,gBAAgB,CAAC,CAAD,CAH/B;;AAKA,MAAIG,aAAa,GAAG,SAASA,aAAT,CAAuBC,SAAvB,EAAkC;AACpDN,IAAAA,YAAY,CAACH,KAAK,CAACE,OAAP,CAAZ;AACAF,IAAAA,KAAK,CAACE,OAAN,GAAgBQ,MAAM,CAACC,UAAP,CAAkB,YAAY;AAC5C,UAAIZ,QAAQ,CAACG,OAAb,EAAsB;AACpBK,QAAAA,QAAQ,CAACE,SAAD,CAAR;AACD;AACF,KAJe,EAIb,EAJa,CAAhB;AAKD,GAPD,CAhBgD,CAuB7C;;;AAGH,SAAOd,OAAO,CAACiB,UAAR,CAAmB,IAAnB,IAA2B,CAACN,KAAD,EAAQC,QAAR,CAA3B,GAA+C,CAACD,KAAD,EAAQE,aAAR,CAAtD;AACD;;AAED,eAAeZ,kBAAf","sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { useEffect, useRef, version } from 'react';\n\nfunction useMountMergeState(initialState, option) {\n  var mountRef = useRef(false);\n  var frame = useRef(undefined);\n  useEffect(function () {\n    mountRef.current = true;\n    return function () {\n      clearTimeout(frame.current);\n      mountRef.current = false;\n    };\n  }, []);\n\n  var _useMergedState = useMergedState(initialState, option),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      state = _useMergedState2[0],\n      setState = _useMergedState2[1];\n\n  var mountSetState = function mountSetState(prevState) {\n    clearTimeout(frame.current);\n    frame.current = window.setTimeout(function () {\n      if (mountRef.current) {\n        setState(prevState);\n      }\n    }, 16);\n  }; // react 18 就不需要 mountSetState 了\n\n\n  return version.startsWith('18') ? [state, setState] : [state, mountSetState];\n}\n\nexport default useMountMergeState;"]},"metadata":{},"sourceType":"module"}