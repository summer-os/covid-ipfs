{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"label\", \"size\", \"disabled\", \"onChange\", \"className\", \"style\", \"children\", \"valuePropName\", \"placeholder\", \"labelFormatter\", \"bordered\", \"footerRender\", \"allowClear\", \"otherFieldProps\", \"valueType\", \"placement\"];\nimport { dateArrayFormatter, dateFormatterMap, FieldLabel, FilterDropdown, useMountMergeState } from '@ant-design/pro-utils';\nimport classNames from 'classnames';\nimport React, { useContext, useMemo, useState } from 'react';\nimport './index.less';\n\nvar LightWrapper = function LightWrapper(props) {\n  var _objectSpread2;\n\n  var label = props.label,\n      size = props.size,\n      disabled = props.disabled,\n      propsOnChange = props.onChange,\n      className = props.className,\n      style = props.style,\n      children = props.children,\n      valuePropName = props.valuePropName,\n      placeholder = props.placeholder,\n      labelFormatter = props.labelFormatter,\n      bordered = props.bordered,\n      footerRender = props.footerRender,\n      allowClear = props.allowClear,\n      otherFieldProps = props.otherFieldProps,\n      valueType = props.valueType,\n      placement = props.placement,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-field-light-wrapper');\n\n  var _useState = useState(props[valuePropName]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tempValue = _useState2[0],\n      setTempValue = _useState2[1];\n\n  var _useMountMergeState = useMountMergeState(false),\n      _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n      open = _useMountMergeState2[0],\n      setOpen = _useMountMergeState2[1];\n\n  var onChange = function onChange() {\n    var _otherFieldProps$onCh;\n\n    for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n      restParams[_key] = arguments[_key];\n    }\n\n    otherFieldProps === null || otherFieldProps === void 0 ? void 0 : (_otherFieldProps$onCh = otherFieldProps.onChange) === null || _otherFieldProps$onCh === void 0 ? void 0 : _otherFieldProps$onCh.call.apply(_otherFieldProps$onCh, [otherFieldProps].concat(restParams));\n    propsOnChange === null || propsOnChange === void 0 ? void 0 : propsOnChange.apply(void 0, restParams);\n  };\n\n  var labelValue = props[valuePropName];\n  /** DataRange的转化，moment 的 toString 有点不好用 */\n\n  var labelText = useMemo(function () {\n    var _valueType$toLowerCas;\n\n    if ((valueType === null || valueType === void 0 ? void 0 : (_valueType$toLowerCas = valueType.toLowerCase()) === null || _valueType$toLowerCas === void 0 ? void 0 : _valueType$toLowerCas.endsWith('range')) && !labelFormatter) {\n      return dateArrayFormatter(labelValue, dateFormatterMap[valueType] || 'YYYY-MM-DD');\n    }\n\n    return labelValue;\n  }, [labelValue, valueType, labelFormatter]);\n  return /*#__PURE__*/React.createElement(FilterDropdown, {\n    disabled: disabled,\n    onVisibleChange: setOpen,\n    placement: placement,\n    visible: open,\n    label: /*#__PURE__*/React.createElement(FieldLabel, {\n      ellipsis: true,\n      size: size,\n      onClear: function onClear() {\n        onChange === null || onChange === void 0 ? void 0 : onChange();\n        setTempValue(undefined);\n      },\n      bordered: bordered,\n      style: style,\n      className: className,\n      label: label,\n      placeholder: placeholder,\n      value: labelText,\n      disabled: disabled,\n      expanded: open,\n      formatter: labelFormatter,\n      allowClear: allowClear\n    }),\n    footer: {\n      onClear: function onClear() {\n        return setTempValue(undefined);\n      },\n      onConfirm: function onConfirm() {\n        onChange === null || onChange === void 0 ? void 0 : onChange(tempValue);\n        setOpen(false);\n      }\n    },\n    footerRender: footerRender\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-container\"), className),\n    style: style\n  }, /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, rest), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, valuePropName, tempValue), _defineProperty(_objectSpread2, \"onChange\", function onChange(e) {\n    setTempValue((e === null || e === void 0 ? void 0 : e.target) ? e.target.value : e);\n  }), _objectSpread2), children.props))));\n};\n\nexport { LightWrapper };","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-form/es/BaseForm/LightWrapper/index.js"],"names":["_defineProperty","_objectSpread","_slicedToArray","_ConfigProvider","_objectWithoutProperties","_excluded","dateArrayFormatter","dateFormatterMap","FieldLabel","FilterDropdown","useMountMergeState","classNames","React","useContext","useMemo","useState","LightWrapper","props","_objectSpread2","label","size","disabled","propsOnChange","onChange","className","style","children","valuePropName","placeholder","labelFormatter","bordered","footerRender","allowClear","otherFieldProps","valueType","placement","rest","_useContext","ConfigContext","getPrefixCls","prefixCls","_useState","_useState2","tempValue","setTempValue","_useMountMergeState","_useMountMergeState2","open","setOpen","_otherFieldProps$onCh","_len","arguments","length","restParams","Array","_key","call","apply","concat","labelValue","labelText","_valueType$toLowerCas","toLowerCase","endsWith","createElement","onVisibleChange","visible","ellipsis","onClear","undefined","value","expanded","formatter","footer","onConfirm","cloneElement","e","target"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"label\", \"size\", \"disabled\", \"onChange\", \"className\", \"style\", \"children\", \"valuePropName\", \"placeholder\", \"labelFormatter\", \"bordered\", \"footerRender\", \"allowClear\", \"otherFieldProps\", \"valueType\", \"placement\"];\nimport { dateArrayFormatter, dateFormatterMap, FieldLabel, FilterDropdown, useMountMergeState } from '@ant-design/pro-utils';\nimport classNames from 'classnames';\nimport React, { useContext, useMemo, useState } from 'react';\nimport './index.less';\n\nvar LightWrapper = function LightWrapper(props) {\n  var _objectSpread2;\n\n  var label = props.label,\n      size = props.size,\n      disabled = props.disabled,\n      propsOnChange = props.onChange,\n      className = props.className,\n      style = props.style,\n      children = props.children,\n      valuePropName = props.valuePropName,\n      placeholder = props.placeholder,\n      labelFormatter = props.labelFormatter,\n      bordered = props.bordered,\n      footerRender = props.footerRender,\n      allowClear = props.allowClear,\n      otherFieldProps = props.otherFieldProps,\n      valueType = props.valueType,\n      placement = props.placement,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var _useContext = useContext(_ConfigProvider.ConfigContext),\n      getPrefixCls = _useContext.getPrefixCls;\n\n  var prefixCls = getPrefixCls('pro-field-light-wrapper');\n\n  var _useState = useState(props[valuePropName]),\n      _useState2 = _slicedToArray(_useState, 2),\n      tempValue = _useState2[0],\n      setTempValue = _useState2[1];\n\n  var _useMountMergeState = useMountMergeState(false),\n      _useMountMergeState2 = _slicedToArray(_useMountMergeState, 2),\n      open = _useMountMergeState2[0],\n      setOpen = _useMountMergeState2[1];\n\n  var onChange = function onChange() {\n    var _otherFieldProps$onCh;\n\n    for (var _len = arguments.length, restParams = new Array(_len), _key = 0; _key < _len; _key++) {\n      restParams[_key] = arguments[_key];\n    }\n\n    otherFieldProps === null || otherFieldProps === void 0 ? void 0 : (_otherFieldProps$onCh = otherFieldProps.onChange) === null || _otherFieldProps$onCh === void 0 ? void 0 : _otherFieldProps$onCh.call.apply(_otherFieldProps$onCh, [otherFieldProps].concat(restParams));\n    propsOnChange === null || propsOnChange === void 0 ? void 0 : propsOnChange.apply(void 0, restParams);\n  };\n\n  var labelValue = props[valuePropName];\n  /** DataRange的转化，moment 的 toString 有点不好用 */\n\n  var labelText = useMemo(function () {\n    var _valueType$toLowerCas;\n\n    if ((valueType === null || valueType === void 0 ? void 0 : (_valueType$toLowerCas = valueType.toLowerCase()) === null || _valueType$toLowerCas === void 0 ? void 0 : _valueType$toLowerCas.endsWith('range')) && !labelFormatter) {\n      return dateArrayFormatter(labelValue, dateFormatterMap[valueType] || 'YYYY-MM-DD');\n    }\n\n    return labelValue;\n  }, [labelValue, valueType, labelFormatter]);\n  return /*#__PURE__*/React.createElement(FilterDropdown, {\n    disabled: disabled,\n    onVisibleChange: setOpen,\n    placement: placement,\n    visible: open,\n    label: /*#__PURE__*/React.createElement(FieldLabel, {\n      ellipsis: true,\n      size: size,\n      onClear: function onClear() {\n        onChange === null || onChange === void 0 ? void 0 : onChange();\n        setTempValue(undefined);\n      },\n      bordered: bordered,\n      style: style,\n      className: className,\n      label: label,\n      placeholder: placeholder,\n      value: labelText,\n      disabled: disabled,\n      expanded: open,\n      formatter: labelFormatter,\n      allowClear: allowClear\n    }),\n    footer: {\n      onClear: function onClear() {\n        return setTempValue(undefined);\n      },\n      onConfirm: function onConfirm() {\n        onChange === null || onChange === void 0 ? void 0 : onChange(tempValue);\n        setOpen(false);\n      }\n    },\n    footerRender: footerRender\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames(\"\".concat(prefixCls, \"-container\"), className),\n    style: style\n  }, /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, rest), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, valuePropName, tempValue), _defineProperty(_objectSpread2, \"onChange\", function onChange(e) {\n    setTempValue((e === null || e === void 0 ? void 0 : e.target) ? e.target.value : e);\n  }), _objectSpread2), children.props))));\n};\n\nexport { LightWrapper };"]},"metadata":{},"sourceType":"module"}