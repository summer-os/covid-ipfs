{"ast":null,"code":"import \"antd/es/upload/style\";\nimport _Upload from \"antd/es/upload\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport { InboxOutlined } from '@ant-design/icons';\nimport React, { useContext } from 'react';\nimport { createField } from '../../BaseForm/createField';\n/**\n * 拖动上传组件\n *\n * @param\n */\n\nvar BaseProFormUploadDragger = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var fieldProps = _ref.fieldProps,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? '单击或拖动文件到此区域进行上传' : _ref$title,\n      _ref$icon = _ref.icon,\n      icon = _ref$icon === void 0 ? /*#__PURE__*/React.createElement(InboxOutlined, null) : _ref$icon,\n      _ref$description = _ref.description,\n      description = _ref$description === void 0 ? '支持单次或批量上传' : _ref$description,\n      action = _ref.action,\n      accept = _ref.accept,\n      _onChange = _ref.onChange,\n      value = _ref.value,\n      children = _ref.children,\n      max = _ref.max,\n      proFieldProps = _ref.proFieldProps;\n  var context = useContext(_ConfigProvider.ConfigContext);\n  var baseClassName = context.getPrefixCls('upload'); // 如果配置了 max ，并且 超过了文件列表的大小，就不展示按钮\n\n  var showUploadButton = (max === undefined || !value || (value === null || value === void 0 ? void 0 : value.length) < max) && (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.mode) !== 'read' && (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.readonly) !== true;\n  return /*#__PURE__*/React.createElement(_Upload.Dragger, _extends({\n    // @ts-ignore\n    ref: ref,\n    name: \"files\",\n    action: action,\n    accept: accept,\n    fileList: value\n  }, fieldProps, {\n    onChange: function onChange(info) {\n      _onChange === null || _onChange === void 0 ? void 0 : _onChange(info);\n\n      if (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.onChange) {\n        fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.onChange(info);\n      }\n    },\n    style: _objectSpread(_objectSpread({}, fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.style), {}, {\n      display: !showUploadButton ? 'none' : undefined\n    })\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"\".concat(baseClassName, \"-drag-icon\")\n  }, icon), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"\".concat(baseClassName, \"-text\")\n  }, title), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"\".concat(baseClassName, \"-hint\")\n  }, description), children ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-extra\"),\n    style: {\n      padding: 16\n    }\n  }, children) : null);\n});\nvar ProFormUploadDragger = createField(BaseProFormUploadDragger, {\n  getValueFromEvent: function getValueFromEvent(value) {\n    return value.fileList;\n  }\n});\nexport default ProFormUploadDragger;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-form/es/components/UploadDragger/index.js"],"names":["_Upload","_extends","_objectSpread","_ConfigProvider","InboxOutlined","React","useContext","createField","BaseProFormUploadDragger","forwardRef","_ref","ref","fieldProps","_ref$title","title","_ref$icon","icon","createElement","_ref$description","description","action","accept","_onChange","onChange","value","children","max","proFieldProps","context","ConfigContext","baseClassName","getPrefixCls","showUploadButton","undefined","length","mode","readonly","Dragger","name","fileList","info","style","display","className","concat","padding","ProFormUploadDragger","getValueFromEvent"],"mappings":"AAAA,OAAO,sBAAP;AACA,OAAOA,OAAP,MAAoB,gBAApB;AACA,OAAOC,QAAP,MAAqB,oCAArB;AACA,OAAOC,aAAP,MAA0B,0CAA1B;AACA,OAAO,+BAAP;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,OAAOC,KAAP,IAAgBC,UAAhB,QAAkC,OAAlC;AACA,SAASC,WAAT,QAA4B,4BAA5B;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,wBAAwB,GAAG,aAAaH,KAAK,CAACI,UAAN,CAAiB,UAAUC,IAAV,EAAgBC,GAAhB,EAAqB;AAChF,MAAIC,UAAU,GAAGF,IAAI,CAACE,UAAtB;AAAA,MACIC,UAAU,GAAGH,IAAI,CAACI,KADtB;AAAA,MAEIA,KAAK,GAAGD,UAAU,KAAK,KAAK,CAApB,GAAwB,iBAAxB,GAA4CA,UAFxD;AAAA,MAGIE,SAAS,GAAGL,IAAI,CAACM,IAHrB;AAAA,MAIIA,IAAI,GAAGD,SAAS,KAAK,KAAK,CAAnB,GAAuB,aAAaV,KAAK,CAACY,aAAN,CAAoBb,aAApB,EAAmC,IAAnC,CAApC,GAA+EW,SAJ1F;AAAA,MAKIG,gBAAgB,GAAGR,IAAI,CAACS,WAL5B;AAAA,MAMIA,WAAW,GAAGD,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,WAA9B,GAA4CA,gBAN9D;AAAA,MAOIE,MAAM,GAAGV,IAAI,CAACU,MAPlB;AAAA,MAQIC,MAAM,GAAGX,IAAI,CAACW,MARlB;AAAA,MASIC,SAAS,GAAGZ,IAAI,CAACa,QATrB;AAAA,MAUIC,KAAK,GAAGd,IAAI,CAACc,KAVjB;AAAA,MAWIC,QAAQ,GAAGf,IAAI,CAACe,QAXpB;AAAA,MAYIC,GAAG,GAAGhB,IAAI,CAACgB,GAZf;AAAA,MAaIC,aAAa,GAAGjB,IAAI,CAACiB,aAbzB;AAcA,MAAIC,OAAO,GAAGtB,UAAU,CAACH,eAAe,CAAC0B,aAAjB,CAAxB;AACA,MAAIC,aAAa,GAAGF,OAAO,CAACG,YAAR,CAAqB,QAArB,CAApB,CAhBgF,CAgB5B;;AAEpD,MAAIC,gBAAgB,GAAG,CAACN,GAAG,KAAKO,SAAR,IAAqB,CAACT,KAAtB,IAA+B,CAACA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACU,MAArD,IAA+DR,GAA/F,KAAuG,CAACC,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACQ,IAA7E,MAAuF,MAA9L,IAAwM,CAACR,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,aAAa,CAACS,QAA7E,MAA2F,IAA1T;AACA,SAAO,aAAa/B,KAAK,CAACY,aAAN,CAAoBjB,OAAO,CAACqC,OAA5B,EAAqCpC,QAAQ,CAAC;AAChE;AACAU,IAAAA,GAAG,EAAEA,GAF2D;AAGhE2B,IAAAA,IAAI,EAAE,OAH0D;AAIhElB,IAAAA,MAAM,EAAEA,MAJwD;AAKhEC,IAAAA,MAAM,EAAEA,MALwD;AAMhEkB,IAAAA,QAAQ,EAAEf;AANsD,GAAD,EAO9DZ,UAP8D,EAOlD;AACbW,IAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBiB,IAAlB,EAAwB;AAChClB,MAAAA,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAACkB,IAAD,CAA/D;;AAEA,UAAI5B,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAACW,QAAvE,EAAiF;AAC/EX,QAAAA,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAACW,QAAX,CAAoBiB,IAApB,CAAxD;AACD;AACF,KAPY;AAQbC,IAAAA,KAAK,EAAEvC,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKU,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAAC6B,KAAxE,CAAd,EAA8F,EAA9F,EAAkG;AACpHC,MAAAA,OAAO,EAAE,CAACV,gBAAD,GAAoB,MAApB,GAA6BC;AAD8E,KAAlG;AARP,GAPkD,CAA7C,EAkBhB,aAAa5B,KAAK,CAACY,aAAN,CAAoB,GAApB,EAAyB;AACxC0B,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUd,aAAV,EAAyB,YAAzB;AAD6B,GAAzB,EAEdd,IAFc,CAlBG,EAoBV,aAAaX,KAAK,CAACY,aAAN,CAAoB,GAApB,EAAyB;AAC9C0B,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUd,aAAV,EAAyB,OAAzB;AADmC,GAAzB,EAEpBhB,KAFoB,CApBH,EAsBT,aAAaT,KAAK,CAACY,aAAN,CAAoB,GAApB,EAAyB;AAC/C0B,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUd,aAAV,EAAyB,OAAzB;AADoC,GAAzB,EAErBX,WAFqB,CAtBJ,EAwBHM,QAAQ,GAAG,aAAapB,KAAK,CAACY,aAAN,CAAoB,KAApB,EAA2B;AAClE0B,IAAAA,SAAS,EAAE,GAAGC,MAAH,CAAUd,aAAV,EAAyB,QAAzB,CADuD;AAElEW,IAAAA,KAAK,EAAE;AACLI,MAAAA,OAAO,EAAE;AADJ;AAF2D,GAA3B,EAKtCpB,QALsC,CAAhB,GAKV,IA7BK,CAApB;AA8BD,CAjD2C,CAA5C;AAkDA,IAAIqB,oBAAoB,GAAGvC,WAAW,CAACC,wBAAD,EAA2B;AAC/DuC,EAAAA,iBAAiB,EAAE,SAASA,iBAAT,CAA2BvB,KAA3B,EAAkC;AACnD,WAAOA,KAAK,CAACe,QAAb;AACD;AAH8D,CAA3B,CAAtC;AAKA,eAAeO,oBAAf","sourcesContent":["import \"antd/es/upload/style\";\nimport _Upload from \"antd/es/upload\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport \"antd/es/config-provider/style\";\nimport _ConfigProvider from \"antd/es/config-provider\";\nimport { InboxOutlined } from '@ant-design/icons';\nimport React, { useContext } from 'react';\nimport { createField } from '../../BaseForm/createField';\n/**\n * 拖动上传组件\n *\n * @param\n */\n\nvar BaseProFormUploadDragger = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var fieldProps = _ref.fieldProps,\n      _ref$title = _ref.title,\n      title = _ref$title === void 0 ? '单击或拖动文件到此区域进行上传' : _ref$title,\n      _ref$icon = _ref.icon,\n      icon = _ref$icon === void 0 ? /*#__PURE__*/React.createElement(InboxOutlined, null) : _ref$icon,\n      _ref$description = _ref.description,\n      description = _ref$description === void 0 ? '支持单次或批量上传' : _ref$description,\n      action = _ref.action,\n      accept = _ref.accept,\n      _onChange = _ref.onChange,\n      value = _ref.value,\n      children = _ref.children,\n      max = _ref.max,\n      proFieldProps = _ref.proFieldProps;\n  var context = useContext(_ConfigProvider.ConfigContext);\n  var baseClassName = context.getPrefixCls('upload'); // 如果配置了 max ，并且 超过了文件列表的大小，就不展示按钮\n\n  var showUploadButton = (max === undefined || !value || (value === null || value === void 0 ? void 0 : value.length) < max) && (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.mode) !== 'read' && (proFieldProps === null || proFieldProps === void 0 ? void 0 : proFieldProps.readonly) !== true;\n  return /*#__PURE__*/React.createElement(_Upload.Dragger, _extends({\n    // @ts-ignore\n    ref: ref,\n    name: \"files\",\n    action: action,\n    accept: accept,\n    fileList: value\n  }, fieldProps, {\n    onChange: function onChange(info) {\n      _onChange === null || _onChange === void 0 ? void 0 : _onChange(info);\n\n      if (fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.onChange) {\n        fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.onChange(info);\n      }\n    },\n    style: _objectSpread(_objectSpread({}, fieldProps === null || fieldProps === void 0 ? void 0 : fieldProps.style), {}, {\n      display: !showUploadButton ? 'none' : undefined\n    })\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"\".concat(baseClassName, \"-drag-icon\")\n  }, icon), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"\".concat(baseClassName, \"-text\")\n  }, title), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"\".concat(baseClassName, \"-hint\")\n  }, description), children ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(baseClassName, \"-extra\"),\n    style: {\n      padding: 16\n    }\n  }, children) : null);\n});\nvar ProFormUploadDragger = createField(BaseProFormUploadDragger, {\n  getValueFromEvent: function getValueFromEvent(value) {\n    return value.fileList;\n  }\n});\nexport default ProFormUploadDragger;"]},"metadata":{},"sourceType":"module"}