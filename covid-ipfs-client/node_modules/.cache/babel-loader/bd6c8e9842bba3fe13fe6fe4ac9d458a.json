{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { useEffect } from 'react';\n\nvar useFetchData = function useFetchData(getData, options) {\n  var _ref = options || {},\n      onRequestError = _ref.onRequestError,\n      effects = _ref.effects,\n      manual = _ref.manual,\n      dataSource = _ref.dataSource,\n      defaultDataSource = _ref.defaultDataSource,\n      onDataSourceChange = _ref.onDataSourceChange;\n\n  var _useMergedState = useMergedState(defaultDataSource, {\n    value: dataSource,\n    onChange: onDataSourceChange\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      entity = _useMergedState2[0],\n      setEntity = _useMergedState2[1];\n\n  var _useMergedState3 = useMergedState(options === null || options === void 0 ? void 0 : options.loading, {\n    value: options === null || options === void 0 ? void 0 : options.loading,\n    onChange: options === null || options === void 0 ? void 0 : options.onLoadingChange\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      loading = _useMergedState4[0],\n      setLoading = _useMergedState4[1];\n\n  var updateDataAndLoading = function updateDataAndLoading(data) {\n    setEntity(data);\n    setLoading(false);\n  };\n  /** 请求数据 */\n\n\n  var fetchList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _ref3, data, success;\n\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!loading) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              setLoading(true);\n              _context.prev = 3;\n              _context.next = 6;\n              return getData();\n\n            case 6:\n              _context.t0 = _context.sent;\n\n              if (_context.t0) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.t0 = {};\n\n            case 9:\n              _ref3 = _context.t0;\n              data = _ref3.data;\n              success = _ref3.success;\n\n              if (success !== false) {\n                updateDataAndLoading(data);\n              }\n\n              _context.next = 23;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t1 = _context[\"catch\"](3);\n\n              if (!(onRequestError === undefined)) {\n                _context.next = 21;\n                break;\n              }\n\n              throw new Error(_context.t1);\n\n            case 21:\n              onRequestError(_context.t1);\n\n            case 22:\n              setLoading(false);\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 15]]);\n    }));\n\n    return function fetchList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (manual) {\n      return;\n    }\n\n    fetchList(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [].concat(_toConsumableArray(effects || []), [manual]));\n  return {\n    dataSource: entity,\n    setDataSource: setEntity,\n    loading: loading,\n    reload: function reload() {\n      return fetchList();\n    }\n  };\n};\n\nexport default useFetchData;","map":{"version":3,"sources":["/Users/jameszow/Documents/RustWorkSpace/covid-ipfs/covid-ipfs-client/node_modules/@ant-design/pro-descriptions/es/useFetchData.js"],"names":["_toConsumableArray","_regeneratorRuntime","_asyncToGenerator","_slicedToArray","useMergedState","useEffect","useFetchData","getData","options","_ref","onRequestError","effects","manual","dataSource","defaultDataSource","onDataSourceChange","_useMergedState","value","onChange","_useMergedState2","entity","setEntity","_useMergedState3","loading","onLoadingChange","_useMergedState4","setLoading","updateDataAndLoading","data","fetchList","_ref2","mark","_callee","_ref3","success","wrap","_callee$","_context","prev","next","abrupt","t0","sent","t1","undefined","Error","stop","apply","arguments","concat","setDataSource","reload"],"mappings":"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","sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport { useEffect } from 'react';\n\nvar useFetchData = function useFetchData(getData, options) {\n  var _ref = options || {},\n      onRequestError = _ref.onRequestError,\n      effects = _ref.effects,\n      manual = _ref.manual,\n      dataSource = _ref.dataSource,\n      defaultDataSource = _ref.defaultDataSource,\n      onDataSourceChange = _ref.onDataSourceChange;\n\n  var _useMergedState = useMergedState(defaultDataSource, {\n    value: dataSource,\n    onChange: onDataSourceChange\n  }),\n      _useMergedState2 = _slicedToArray(_useMergedState, 2),\n      entity = _useMergedState2[0],\n      setEntity = _useMergedState2[1];\n\n  var _useMergedState3 = useMergedState(options === null || options === void 0 ? void 0 : options.loading, {\n    value: options === null || options === void 0 ? void 0 : options.loading,\n    onChange: options === null || options === void 0 ? void 0 : options.onLoadingChange\n  }),\n      _useMergedState4 = _slicedToArray(_useMergedState3, 2),\n      loading = _useMergedState4[0],\n      setLoading = _useMergedState4[1];\n\n  var updateDataAndLoading = function updateDataAndLoading(data) {\n    setEntity(data);\n    setLoading(false);\n  };\n  /** 请求数据 */\n\n\n  var fetchList = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _ref3, data, success;\n\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!loading) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              setLoading(true);\n              _context.prev = 3;\n              _context.next = 6;\n              return getData();\n\n            case 6:\n              _context.t0 = _context.sent;\n\n              if (_context.t0) {\n                _context.next = 9;\n                break;\n              }\n\n              _context.t0 = {};\n\n            case 9:\n              _ref3 = _context.t0;\n              data = _ref3.data;\n              success = _ref3.success;\n\n              if (success !== false) {\n                updateDataAndLoading(data);\n              }\n\n              _context.next = 23;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t1 = _context[\"catch\"](3);\n\n              if (!(onRequestError === undefined)) {\n                _context.next = 21;\n                break;\n              }\n\n              throw new Error(_context.t1);\n\n            case 21:\n              onRequestError(_context.t1);\n\n            case 22:\n              setLoading(false);\n\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 15]]);\n    }));\n\n    return function fetchList() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (manual) {\n      return;\n    }\n\n    fetchList(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [].concat(_toConsumableArray(effects || []), [manual]));\n  return {\n    dataSource: entity,\n    setDataSource: setEntity,\n    loading: loading,\n    reload: function reload() {\n      return fetchList();\n    }\n  };\n};\n\nexport default useFetchData;"]},"metadata":{},"sourceType":"module"}